<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>8dobibim Tech Blog</title>
<meta name="keywords" content="">
<meta name="description" content="ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ

â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.

ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

 ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ
 ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜
 ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½
 EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš
 ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì •
 ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš


ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”
ì‹œìŠ¤í…œ êµ¬ì„±ë„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS Cloud                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                  VPC (10.0.0.0/16)                     â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚   Public Subnet A   â”‚  â”‚    Public Subnet B         â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.1.0/24)     â”‚  â”‚    (10.0.2.0/24)          â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  NAT Gateway A  â”‚â”‚  â”‚  â”‚   NAT Gateway B         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Internet Gatewayâ”‚â”‚  â”‚  â”‚   Load Balancer         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  Private Subnet A   â”‚  â”‚   Private Subnet B          â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.10.0/24)    â”‚  â”‚   (10.0.20.0/24)           â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ EKS Node Group Aâ”‚â”‚  â”‚  â”‚  EKS Node Group B       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                 â”‚â”‚  â”‚  â”‚                         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ OpenWebUI Pods  â”‚â”‚  â”‚  â”‚   LiteLLM Pods          â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Monitoring Pods â”‚â”‚  â”‚  â”‚   Database Pods         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚                  EKS Control Plane                  â”‚â”‚
â”‚  â”‚  â”‚                 (AWS Managed)                       â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì—°ê²°:
- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)
- S3 (Terraform State, ë°±ì—…)
- DynamoDB (Terraform Lock)
- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§)
ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª…

  
      
          êµ¬ì„± ìš”ì†Œ
          ëª©ì 
          ìœ„ì¹˜
      
  
  
      
          VPC
          ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½
          ap-northeast-2
      
      
          Public Subnet
          ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ
          2ê°œ AZ
      
      
          Private Subnet
          EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜
          2ê°œ AZ
      
      
          EKS Cluster
          Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤
          Multi-AZ
      
      
          Node Groups
          EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹
          Private Subnet
      
      
          ALB
          ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ
          Public Subnet
      
  


ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„
VPC ë° ì„œë¸Œë„· êµ¬ì„±
ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •
VPC ì„¤ì •:
  CIDR: 10.0.0.0/16
  Region: ap-northeast-2 (ì„œìš¸)
  DNS Resolution: Enabled
  DNS Hostnames: Enabled

ê°€ìš© ì˜ì—­:
  - ap-northeast-2a
  - ap-northeast-2c
ì„œë¸Œë„· ì„¤ê³„
Public Subnets:
  Public-A:
    CIDR: 10.0.1.0/24
    AZ: ap-northeast-2a
    ìš©ë„: NAT Gateway, Load Balancer
    
  Public-B:
    CIDR: 10.0.2.0/24
    AZ: ap-northeast-2c
    ìš©ë„: NAT Gateway, Load Balancer

Private Subnets:
  Private-A:
    CIDR: 10.0.10.0/24
    AZ: ap-northeast-2a
    ìš©ë„: EKS Worker Nodes
    
  Private-B:
    CIDR: 10.0.20.0/24
    AZ: ap-northeast-2c
    ìš©ë„: EKS Worker Nodes
ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„
Public Route Table
ëŒ€ìƒ: 0.0.0.0/0
ê²Œì´íŠ¸ì›¨ì´: Internet Gateway

ì—°ê²°ëœ ì„œë¸Œë„·:
- Public Subnet A
- Public Subnet B
Private Route Tables
Private Route Table A:
  ëŒ€ìƒ: 0.0.0.0/0
  ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A
  ì—°ê²° ì„œë¸Œë„·: Private Subnet A

Private Route Table B:
  ëŒ€ìƒ: 0.0.0.0/0
  ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B
  ì—°ê²° ì„œë¸Œë„·: Private Subnet B

ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„
EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹
Control Plane Security Group
ì´ë¦„: openwebui-eks-control-plane-sg
ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: HTTPS
    Port: 443
    Source: Worker Node Security Group
    ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼

Outbound Rules:
  - Type: All Traffic
    Port: All
    Destination: 0.0.0.0/0
    ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©
Worker Node Security Group
ì´ë¦„: openwebui-eks-worker-sg
ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: All Traffic
    Port: All
    Source: Same Security Group
    ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹ 
    
  - Type: Custom TCP
    Port: 1025-65535
    Source: Control Plane Security Group
    ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹ 
    
  - Type: HTTP
    Port: 80
    Source: ALB Security Group
    ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼
    
  - Type: Custom TCP
    Port: 30000-32767
    Source: ALB Security Group
    ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼

Outbound Rules:
  - Type: All Traffic
    Port: All
    Destination: 0.0.0.0/0
    ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©
Application Load Balancer Security Group
ì´ë¦„: openwebui-alb-sg
ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: HTTP
    Port: 80
    Source: 0.0.0.0/0
    ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼
    
  - Type: HTTPS
    Port: 443
    Source: 0.0.0.0/0
    ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼

Outbound Rules:
  - Type: Custom TCP
    Port: 80
    Destination: Worker Node Security Group
    ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬
    
  - Type: Custom TCP
    Port: 30000-32767
    Destination: Worker Node Security Group
    ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼

âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„
í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì •
í´ëŸ¬ìŠ¤í„° ì„¤ì •:
  ì´ë¦„: openwebui-eks-dev
  ë²„ì „: 1.28
  ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤:
    Public: true
    Private: true
  ë¡œê¹…:
    - api
    - audit
    - authenticator
    - controllerManager
    - scheduler
Node Group ì„¤ê³„
Primary Node Group
ì´ë¦„: openwebui-primary-nodes
ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium
ìŠ¤ì¼€ì¼ë§:
  ìµœì†Œ: 2
  ìµœëŒ€: 4
  ì›í•˜ëŠ” ìš©ëŸ‰: 2
  
ë””ìŠ¤í¬:
  í¬ê¸°: 20GB
  íƒ€ì…: gp3
  
ë ˆì´ë¸”:
  environment: dev
  nodegroup: primary
  
Taints: ì—†ìŒ
Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©)
ì´ë¦„: openwebui-spot-nodes
ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: 
  - t3.medium
  - t3.large
  - m5.large
êµ¬ë§¤ ì˜µì…˜: Spot Instance
ìŠ¤ì¼€ì¼ë§:
  ìµœì†Œ: 0
  ìµœëŒ€: 3
  ì›í•˜ëŠ” ìš©ëŸ‰: 1
  
ë ˆì´ë¸”:
  environment: dev
  nodegroup: spot
  
Taints:
  - Key: spot
    Value: &#34;true&#34;
    Effect: NoSchedule
Add-ons ì„¤ì •
í•„ìˆ˜ Add-ons:
  - vpc-cni (ë„¤íŠ¸ì›Œí‚¹)
  - coredns (DNS)
  - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ)
  
ì¶”ê°€ Add-ons:
  - aws-load-balancer-controller
  - ebs-csi-driver
  - cluster-autoscaler

ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™
ëª…ëª… ê·œì¹™ í‘œì¤€
í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix}

ì˜ˆì‹œ:
  VPC: openwebui-vpc-dev
  Subnet: openwebui-public-subnet-dev-a
  Security Group: openwebui-eks-sg-dev
  EKS Cluster: openwebui-eks-dev
  Node Group: openwebui-primary-nodes-dev
  Load Balancer: openwebui-alb-dev
íƒœê·¸ ì „ëµ
ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸:
  Project: openwebui
  Environment: dev
  Owner: team-name
  ManagedBy: terraform
  
ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸:
  EKS Cluster:
    kubernetes.io/cluster/openwebui-eks-dev: owned
  
  Subnet:
    kubernetes.io/role/elb: 1 (public subnet)
    kubernetes.io/role/internal-elb: 1 (private subnet)

ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™”
ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€)
ê¸°ë³¸ êµ¬ì„±

  
      
          ì„œë¹„ìŠ¤
          ìŠ¤í™
          ì›” ì˜ˆìƒ ë¹„ìš©
          ì„¤ëª…
      
  
  
      
          EKS Control Plane
          ê´€ë¦¬í˜• ì„œë¹„ìŠ¤
          $72
          í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš©
      
      
          EC2 ì¸ìŠ¤í„´ìŠ¤
          2x t3.medium
          $60
          ì›Œì»¤ ë…¸ë“œ (on-demand)
      
      
          EBS ë³¼ë¥¨
          40GB gp3
          $4
          ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€
      
      
          NAT Gateway
          2ê°œ AZ
          $64
          ê° AZë‹¹ $32
      
      
          Load Balancer
          ALB
          $22
          ê¸°ë³¸ ìš”ê¸ˆ &#43; íŠ¸ë˜í”½
      
      
          ë°ì´í„° ì „ì†¡
          ì˜ˆìƒ 10GB
          $1
          ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½
      
      
          ê¸°íƒ€ ì„œë¹„ìŠ¤
          ECR, CloudWatch
          $5
          ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥
      
  

ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228">
<meta name="author" content="">
<link rel="canonical" href="https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/">
  <meta property="og:site_name" content="8dobibim Tech Blog">
  <meta property="og:title" content="8dobibim Tech Blog">
  <meta property="og:description" content="ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.
ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜ ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½ EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì • ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš” ì‹œìŠ¤í…œ êµ¬ì„±ë„ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ AWS Cloud â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ â”‚ VPC (10.0.0.0/16) â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ Public Subnet A â”‚ â”‚ Public Subnet B â”‚â”‚â”‚â”‚ â”‚ â”‚ (10.0.1.0/24) â”‚ â”‚ (10.0.2.0/24) â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ NAT Gateway A â”‚â”‚ â”‚ â”‚ NAT Gateway B â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ Internet Gatewayâ”‚â”‚ â”‚ â”‚ Load Balancer â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ Private Subnet A â”‚ â”‚ Private Subnet B â”‚â”‚â”‚â”‚ â”‚ â”‚ (10.0.10.0/24) â”‚ â”‚ (10.0.20.0/24) â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ EKS Node Group Aâ”‚â”‚ â”‚ â”‚ EKS Node Group B â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ OpenWebUI Pods â”‚â”‚ â”‚ â”‚ LiteLLM Pods â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ Monitoring Pods â”‚â”‚ â”‚ â”‚ Database Pods â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â”‚ â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ EKS Control Plane â”‚â”‚â”‚ â”‚ â”‚ (AWS Managed) â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ì™¸ë¶€ ì—°ê²°:- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)- S3 (Terraform State, ë°±ì—…)- DynamoDB (Terraform Lock)- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§) ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª… êµ¬ì„± ìš”ì†Œ ëª©ì  ìœ„ì¹˜ VPC ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ap-northeast-2 Public Subnet ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ 2ê°œ AZ Private Subnet EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜ 2ê°œ AZ EKS Cluster Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ Multi-AZ Node Groups EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ Private Subnet ALB ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ Public Subnet ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ VPC ë° ì„œë¸Œë„· êµ¬ì„± ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì • VPC ì„¤ì •: CIDR: 10.0.0.0/16 Region: ap-northeast-2 (ì„œìš¸) DNS Resolution: Enabled DNS Hostnames: Enabled ê°€ìš© ì˜ì—­: - ap-northeast-2a - ap-northeast-2c ì„œë¸Œë„· ì„¤ê³„ Public Subnets: Public-A: CIDR: 10.0.1.0/24 AZ: ap-northeast-2a ìš©ë„: NAT Gateway, Load Balancer Public-B: CIDR: 10.0.2.0/24 AZ: ap-northeast-2c ìš©ë„: NAT Gateway, Load Balancer Private Subnets: Private-A: CIDR: 10.0.10.0/24 AZ: ap-northeast-2a ìš©ë„: EKS Worker Nodes Private-B: CIDR: 10.0.20.0/24 AZ: ap-northeast-2c ìš©ë„: EKS Worker Nodes ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„ Public Route Table ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: Internet Gateway ì—°ê²°ëœ ì„œë¸Œë„·: - Public Subnet A - Public Subnet B Private Route Tables Private Route Table A: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A ì—°ê²° ì„œë¸Œë„·: Private Subnet A Private Route Table B: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B ì—°ê²° ì„œë¸Œë„·: Private Subnet B ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„ EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹ Control Plane Security Group ì´ë¦„: openwebui-eks-control-plane-sg ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTPS Port: 443 Source: Worker Node Security Group ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Worker Node Security Group ì´ë¦„: openwebui-eks-worker-sg ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: All Traffic Port: All Source: Same Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹  - Type: Custom TCP Port: 1025-65535 Source: Control Plane Security Group ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹  - Type: HTTP Port: 80 Source: ALB Security Group ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ - Type: Custom TCP Port: 30000-32767 Source: ALB Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Application Load Balancer Security Group ì´ë¦„: openwebui-alb-sg ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTP Port: 80 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼ - Type: HTTPS Port: 443 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼ Outbound Rules: - Type: Custom TCP Port: 80 Destination: Worker Node Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ - Type: Custom TCP Port: 30000-32767 Destination: Worker Node Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„ í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì • í´ëŸ¬ìŠ¤í„° ì„¤ì •: ì´ë¦„: openwebui-eks-dev ë²„ì „: 1.28 ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤: Public: true Private: true ë¡œê¹…: - api - audit - authenticator - controllerManager - scheduler Node Group ì„¤ê³„ Primary Node Group ì´ë¦„: openwebui-primary-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 2 ìµœëŒ€: 4 ì›í•˜ëŠ” ìš©ëŸ‰: 2 ë””ìŠ¤í¬: í¬ê¸°: 20GB íƒ€ì…: gp3 ë ˆì´ë¸”: environment: dev nodegroup: primary Taints: ì—†ìŒ Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©) ì´ë¦„: openwebui-spot-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: - t3.medium - t3.large - m5.large êµ¬ë§¤ ì˜µì…˜: Spot Instance ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 0 ìµœëŒ€: 3 ì›í•˜ëŠ” ìš©ëŸ‰: 1 ë ˆì´ë¸”: environment: dev nodegroup: spot Taints: - Key: spot Value: &#34;true&#34; Effect: NoSchedule Add-ons ì„¤ì • í•„ìˆ˜ Add-ons: - vpc-cni (ë„¤íŠ¸ì›Œí‚¹) - coredns (DNS) - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ) ì¶”ê°€ Add-ons: - aws-load-balancer-controller - ebs-csi-driver - cluster-autoscaler ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ëª…ëª… ê·œì¹™ í‘œì¤€ í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix} ì˜ˆì‹œ: VPC: openwebui-vpc-dev Subnet: openwebui-public-subnet-dev-a Security Group: openwebui-eks-sg-dev EKS Cluster: openwebui-eks-dev Node Group: openwebui-primary-nodes-dev Load Balancer: openwebui-alb-dev íƒœê·¸ ì „ëµ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸: Project: openwebui Environment: dev Owner: team-name ManagedBy: terraform ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸: EKS Cluster: kubernetes.io/cluster/openwebui-eks-dev: owned Subnet: kubernetes.io/role/elb: 1 (public subnet) kubernetes.io/role/internal-elb: 1 (private subnet) ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™” ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€) ê¸°ë³¸ êµ¬ì„± ì„œë¹„ìŠ¤ ìŠ¤í™ ì›” ì˜ˆìƒ ë¹„ìš© ì„¤ëª… EKS Control Plane ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ $72 í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš© EC2 ì¸ìŠ¤í„´ìŠ¤ 2x t3.medium $60 ì›Œì»¤ ë…¸ë“œ (on-demand) EBS ë³¼ë¥¨ 40GB gp3 $4 ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€ NAT Gateway 2ê°œ AZ $64 ê° AZë‹¹ $32 Load Balancer ALB $22 ê¸°ë³¸ ìš”ê¸ˆ &#43; íŠ¸ë˜í”½ ë°ì´í„° ì „ì†¡ ì˜ˆìƒ 10GB $1 ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ ê¸°íƒ€ ì„œë¹„ìŠ¤ ECR, CloudWatch $5 ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥ ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228">
  <meta property="og:locale" content="ko">
  <meta property="og:type" content="article">
    <meta property="article:section" content="backend">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ

â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.

ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

 ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ
 ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜
 ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½
 EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš
 ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì •
 ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš


ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”
ì‹œìŠ¤í…œ êµ¬ì„±ë„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS Cloud                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                  VPC (10.0.0.0/16)                     â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚   Public Subnet A   â”‚  â”‚    Public Subnet B         â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.1.0/24)     â”‚  â”‚    (10.0.2.0/24)          â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  NAT Gateway A  â”‚â”‚  â”‚  â”‚   NAT Gateway B         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Internet Gatewayâ”‚â”‚  â”‚  â”‚   Load Balancer         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  Private Subnet A   â”‚  â”‚   Private Subnet B          â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.10.0/24)    â”‚  â”‚   (10.0.20.0/24)           â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ EKS Node Group Aâ”‚â”‚  â”‚  â”‚  EKS Node Group B       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                 â”‚â”‚  â”‚  â”‚                         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ OpenWebUI Pods  â”‚â”‚  â”‚  â”‚   LiteLLM Pods          â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Monitoring Pods â”‚â”‚  â”‚  â”‚   Database Pods         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚                  EKS Control Plane                  â”‚â”‚
â”‚  â”‚  â”‚                 (AWS Managed)                       â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì—°ê²°:
- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)
- S3 (Terraform State, ë°±ì—…)
- DynamoDB (Terraform Lock)
- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§)
ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª…

  
      
          êµ¬ì„± ìš”ì†Œ
          ëª©ì 
          ìœ„ì¹˜
      
  
  
      
          VPC
          ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½
          ap-northeast-2
      
      
          Public Subnet
          ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ
          2ê°œ AZ
      
      
          Private Subnet
          EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜
          2ê°œ AZ
      
      
          EKS Cluster
          Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤
          Multi-AZ
      
      
          Node Groups
          EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹
          Private Subnet
      
      
          ALB
          ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ
          Public Subnet
      
  


ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„
VPC ë° ì„œë¸Œë„· êµ¬ì„±
ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •
VPC ì„¤ì •:
  CIDR: 10.0.0.0/16
  Region: ap-northeast-2 (ì„œìš¸)
  DNS Resolution: Enabled
  DNS Hostnames: Enabled

ê°€ìš© ì˜ì—­:
  - ap-northeast-2a
  - ap-northeast-2c
ì„œë¸Œë„· ì„¤ê³„
Public Subnets:
  Public-A:
    CIDR: 10.0.1.0/24
    AZ: ap-northeast-2a
    ìš©ë„: NAT Gateway, Load Balancer
    
  Public-B:
    CIDR: 10.0.2.0/24
    AZ: ap-northeast-2c
    ìš©ë„: NAT Gateway, Load Balancer

Private Subnets:
  Private-A:
    CIDR: 10.0.10.0/24
    AZ: ap-northeast-2a
    ìš©ë„: EKS Worker Nodes
    
  Private-B:
    CIDR: 10.0.20.0/24
    AZ: ap-northeast-2c
    ìš©ë„: EKS Worker Nodes
ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„
Public Route Table
ëŒ€ìƒ: 0.0.0.0/0
ê²Œì´íŠ¸ì›¨ì´: Internet Gateway

ì—°ê²°ëœ ì„œë¸Œë„·:
- Public Subnet A
- Public Subnet B
Private Route Tables
Private Route Table A:
  ëŒ€ìƒ: 0.0.0.0/0
  ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A
  ì—°ê²° ì„œë¸Œë„·: Private Subnet A

Private Route Table B:
  ëŒ€ìƒ: 0.0.0.0/0
  ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B
  ì—°ê²° ì„œë¸Œë„·: Private Subnet B

ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„
EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹
Control Plane Security Group
ì´ë¦„: openwebui-eks-control-plane-sg
ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: HTTPS
    Port: 443
    Source: Worker Node Security Group
    ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼

Outbound Rules:
  - Type: All Traffic
    Port: All
    Destination: 0.0.0.0/0
    ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©
Worker Node Security Group
ì´ë¦„: openwebui-eks-worker-sg
ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: All Traffic
    Port: All
    Source: Same Security Group
    ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹ 
    
  - Type: Custom TCP
    Port: 1025-65535
    Source: Control Plane Security Group
    ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹ 
    
  - Type: HTTP
    Port: 80
    Source: ALB Security Group
    ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼
    
  - Type: Custom TCP
    Port: 30000-32767
    Source: ALB Security Group
    ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼

Outbound Rules:
  - Type: All Traffic
    Port: All
    Destination: 0.0.0.0/0
    ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©
Application Load Balancer Security Group
ì´ë¦„: openwebui-alb-sg
ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹

Inbound Rules:
  - Type: HTTP
    Port: 80
    Source: 0.0.0.0/0
    ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼
    
  - Type: HTTPS
    Port: 443
    Source: 0.0.0.0/0
    ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼

Outbound Rules:
  - Type: Custom TCP
    Port: 80
    Destination: Worker Node Security Group
    ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬
    
  - Type: Custom TCP
    Port: 30000-32767
    Destination: Worker Node Security Group
    ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼

âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„
í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì •
í´ëŸ¬ìŠ¤í„° ì„¤ì •:
  ì´ë¦„: openwebui-eks-dev
  ë²„ì „: 1.28
  ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤:
    Public: true
    Private: true
  ë¡œê¹…:
    - api
    - audit
    - authenticator
    - controllerManager
    - scheduler
Node Group ì„¤ê³„
Primary Node Group
ì´ë¦„: openwebui-primary-nodes
ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium
ìŠ¤ì¼€ì¼ë§:
  ìµœì†Œ: 2
  ìµœëŒ€: 4
  ì›í•˜ëŠ” ìš©ëŸ‰: 2
  
ë””ìŠ¤í¬:
  í¬ê¸°: 20GB
  íƒ€ì…: gp3
  
ë ˆì´ë¸”:
  environment: dev
  nodegroup: primary
  
Taints: ì—†ìŒ
Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©)
ì´ë¦„: openwebui-spot-nodes
ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: 
  - t3.medium
  - t3.large
  - m5.large
êµ¬ë§¤ ì˜µì…˜: Spot Instance
ìŠ¤ì¼€ì¼ë§:
  ìµœì†Œ: 0
  ìµœëŒ€: 3
  ì›í•˜ëŠ” ìš©ëŸ‰: 1
  
ë ˆì´ë¸”:
  environment: dev
  nodegroup: spot
  
Taints:
  - Key: spot
    Value: &#34;true&#34;
    Effect: NoSchedule
Add-ons ì„¤ì •
í•„ìˆ˜ Add-ons:
  - vpc-cni (ë„¤íŠ¸ì›Œí‚¹)
  - coredns (DNS)
  - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ)
  
ì¶”ê°€ Add-ons:
  - aws-load-balancer-controller
  - ebs-csi-driver
  - cluster-autoscaler

ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™
ëª…ëª… ê·œì¹™ í‘œì¤€
í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix}

ì˜ˆì‹œ:
  VPC: openwebui-vpc-dev
  Subnet: openwebui-public-subnet-dev-a
  Security Group: openwebui-eks-sg-dev
  EKS Cluster: openwebui-eks-dev
  Node Group: openwebui-primary-nodes-dev
  Load Balancer: openwebui-alb-dev
íƒœê·¸ ì „ëµ
ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸:
  Project: openwebui
  Environment: dev
  Owner: team-name
  ManagedBy: terraform
  
ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸:
  EKS Cluster:
    kubernetes.io/cluster/openwebui-eks-dev: owned
  
  Subnet:
    kubernetes.io/role/elb: 1 (public subnet)
    kubernetes.io/role/internal-elb: 1 (private subnet)

ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™”
ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€)
ê¸°ë³¸ êµ¬ì„±

  
      
          ì„œë¹„ìŠ¤
          ìŠ¤í™
          ì›” ì˜ˆìƒ ë¹„ìš©
          ì„¤ëª…
      
  
  
      
          EKS Control Plane
          ê´€ë¦¬í˜• ì„œë¹„ìŠ¤
          $72
          í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš©
      
      
          EC2 ì¸ìŠ¤í„´ìŠ¤
          2x t3.medium
          $60
          ì›Œì»¤ ë…¸ë“œ (on-demand)
      
      
          EBS ë³¼ë¥¨
          40GB gp3
          $4
          ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€
      
      
          NAT Gateway
          2ê°œ AZ
          $64
          ê° AZë‹¹ $32
      
      
          Load Balancer
          ALB
          $22
          ê¸°ë³¸ ìš”ê¸ˆ &#43; íŠ¸ë˜í”½
      
      
          ë°ì´í„° ì „ì†¡
          ì˜ˆìƒ 10GB
          $1
          ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½
      
      
          ê¸°íƒ€ ì„œë¹„ìŠ¤
          ECR, CloudWatch
          $5
          ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥
      
  

ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Backend ë¬¸ì„œ",
      "item": "https://8dobibim.github.io/backend/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "",
      "item": "https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)\nğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰\nğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.\nğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜ ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½ EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì • ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš” ì‹œìŠ¤í…œ êµ¬ì„±ë„ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\râ”‚ AWS Cloud â”‚\râ”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\râ”‚ â”‚ VPC (10.0.0.0/16) â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ Public Subnet A â”‚ â”‚ Public Subnet B â”‚â”‚â”‚\râ”‚ â”‚ â”‚ (10.0.1.0/24) â”‚ â”‚ (10.0.2.0/24) â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ NAT Gateway A â”‚â”‚ â”‚ â”‚ NAT Gateway B â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ Internet Gatewayâ”‚â”‚ â”‚ â”‚ Load Balancer â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ Private Subnet A â”‚ â”‚ Private Subnet B â”‚â”‚â”‚\râ”‚ â”‚ â”‚ (10.0.10.0/24) â”‚ â”‚ (10.0.20.0/24) â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ EKS Node Group Aâ”‚â”‚ â”‚ â”‚ EKS Node Group B â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ OpenWebUI Pods â”‚â”‚ â”‚ â”‚ LiteLLM Pods â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ Monitoring Pods â”‚â”‚ â”‚ â”‚ Database Pods â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â”‚ â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ EKS Control Plane â”‚â”‚\râ”‚ â”‚ â”‚ (AWS Managed) â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚\râ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\rì™¸ë¶€ ì—°ê²°:\r- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)\r- S3 (Terraform State, ë°±ì—…)\r- DynamoDB (Terraform Lock)\r- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§) ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª… êµ¬ì„± ìš”ì†Œ ëª©ì  ìœ„ì¹˜ VPC ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ap-northeast-2 Public Subnet ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ 2ê°œ AZ Private Subnet EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜ 2ê°œ AZ EKS Cluster Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ Multi-AZ Node Groups EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ Private Subnet ALB ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ Public Subnet ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ VPC ë° ì„œë¸Œë„· êµ¬ì„± ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì • VPC ì„¤ì •: CIDR: 10.0.0.0/16 Region: ap-northeast-2 (ì„œìš¸) DNS Resolution: Enabled DNS Hostnames: Enabled ê°€ìš© ì˜ì—­: - ap-northeast-2a - ap-northeast-2c ì„œë¸Œë„· ì„¤ê³„ Public Subnets: Public-A: CIDR: 10.0.1.0/24 AZ: ap-northeast-2a ìš©ë„: NAT Gateway, Load Balancer Public-B: CIDR: 10.0.2.0/24 AZ: ap-northeast-2c ìš©ë„: NAT Gateway, Load Balancer Private Subnets: Private-A: CIDR: 10.0.10.0/24 AZ: ap-northeast-2a ìš©ë„: EKS Worker Nodes Private-B: CIDR: 10.0.20.0/24 AZ: ap-northeast-2c ìš©ë„: EKS Worker Nodes ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„ Public Route Table ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: Internet Gateway ì—°ê²°ëœ ì„œë¸Œë„·: - Public Subnet A - Public Subnet B Private Route Tables Private Route Table A: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A ì—°ê²° ì„œë¸Œë„·: Private Subnet A Private Route Table B: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B ì—°ê²° ì„œë¸Œë„·: Private Subnet B ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„ EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹ Control Plane Security Group ì´ë¦„: openwebui-eks-control-plane-sg ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTPS Port: 443 Source: Worker Node Security Group ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Worker Node Security Group ì´ë¦„: openwebui-eks-worker-sg ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: All Traffic Port: All Source: Same Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹  - Type: Custom TCP Port: 1025-65535 Source: Control Plane Security Group ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹  - Type: HTTP Port: 80 Source: ALB Security Group ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ - Type: Custom TCP Port: 30000-32767 Source: ALB Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Application Load Balancer Security Group ì´ë¦„: openwebui-alb-sg ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTP Port: 80 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼ - Type: HTTPS Port: 443 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼ Outbound Rules: - Type: Custom TCP Port: 80 Destination: Worker Node Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ - Type: Custom TCP Port: 30000-32767 Destination: Worker Node Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„ í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì • í´ëŸ¬ìŠ¤í„° ì„¤ì •: ì´ë¦„: openwebui-eks-dev ë²„ì „: 1.28 ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤: Public: true Private: true ë¡œê¹…: - api - audit - authenticator - controllerManager - scheduler Node Group ì„¤ê³„ Primary Node Group ì´ë¦„: openwebui-primary-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 2 ìµœëŒ€: 4 ì›í•˜ëŠ” ìš©ëŸ‰: 2 ë””ìŠ¤í¬: í¬ê¸°: 20GB íƒ€ì…: gp3 ë ˆì´ë¸”: environment: dev nodegroup: primary Taints: ì—†ìŒ Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©) ì´ë¦„: openwebui-spot-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: - t3.medium - t3.large - m5.large êµ¬ë§¤ ì˜µì…˜: Spot Instance ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 0 ìµœëŒ€: 3 ì›í•˜ëŠ” ìš©ëŸ‰: 1 ë ˆì´ë¸”: environment: dev nodegroup: spot Taints: - Key: spot Value: \u0026#34;true\u0026#34; Effect: NoSchedule Add-ons ì„¤ì • í•„ìˆ˜ Add-ons: - vpc-cni (ë„¤íŠ¸ì›Œí‚¹) - coredns (DNS) - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ) ì¶”ê°€ Add-ons: - aws-load-balancer-controller - ebs-csi-driver - cluster-autoscaler ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ëª…ëª… ê·œì¹™ í‘œì¤€ í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix} ì˜ˆì‹œ: VPC: openwebui-vpc-dev Subnet: openwebui-public-subnet-dev-a Security Group: openwebui-eks-sg-dev EKS Cluster: openwebui-eks-dev Node Group: openwebui-primary-nodes-dev Load Balancer: openwebui-alb-dev íƒœê·¸ ì „ëµ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸: Project: openwebui Environment: dev Owner: team-name ManagedBy: terraform ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸: EKS Cluster: kubernetes.io/cluster/openwebui-eks-dev: owned Subnet: kubernetes.io/role/elb: 1 (public subnet) kubernetes.io/role/internal-elb: 1 (private subnet) ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™” ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€) ê¸°ë³¸ êµ¬ì„± ì„œë¹„ìŠ¤ ìŠ¤í™ ì›” ì˜ˆìƒ ë¹„ìš© ì„¤ëª… EKS Control Plane ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ $72 í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš© EC2 ì¸ìŠ¤í„´ìŠ¤ 2x t3.medium $60 ì›Œì»¤ ë…¸ë“œ (on-demand) EBS ë³¼ë¥¨ 40GB gp3 $4 ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€ NAT Gateway 2ê°œ AZ $64 ê° AZë‹¹ $32 Load Balancer ALB $22 ê¸°ë³¸ ìš”ê¸ˆ + íŠ¸ë˜í”½ ë°ì´í„° ì „ì†¡ ì˜ˆìƒ 10GB $1 ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ ê¸°íƒ€ ì„œë¹„ìŠ¤ ECR, CloudWatch $5 ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥ ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228\n",
  "keywords": [
    
  ],
  "articleBody": "ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)\nğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰\nğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.\nğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜ ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½ EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì • ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš” ì‹œìŠ¤í…œ êµ¬ì„±ë„ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\râ”‚ AWS Cloud â”‚\râ”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\râ”‚ â”‚ VPC (10.0.0.0/16) â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ Public Subnet A â”‚ â”‚ Public Subnet B â”‚â”‚â”‚\râ”‚ â”‚ â”‚ (10.0.1.0/24) â”‚ â”‚ (10.0.2.0/24) â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ NAT Gateway A â”‚â”‚ â”‚ â”‚ NAT Gateway B â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ Internet Gatewayâ”‚â”‚ â”‚ â”‚ Load Balancer â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ Private Subnet A â”‚ â”‚ Private Subnet B â”‚â”‚â”‚\râ”‚ â”‚ â”‚ (10.0.10.0/24) â”‚ â”‚ (10.0.20.0/24) â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ EKS Node Group Aâ”‚â”‚ â”‚ â”‚ EKS Node Group B â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ OpenWebUI Pods â”‚â”‚ â”‚ â”‚ LiteLLM Pods â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â”‚ Monitoring Pods â”‚â”‚ â”‚ â”‚ Database Pods â”‚â”‚â”‚â”‚\râ”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â”‚ â”‚â”‚\râ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚\râ”‚ â”‚ â”‚ EKS Control Plane â”‚â”‚\râ”‚ â”‚ â”‚ (AWS Managed) â”‚â”‚\râ”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚\râ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚\râ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\rì™¸ë¶€ ì—°ê²°:\r- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)\r- S3 (Terraform State, ë°±ì—…)\r- DynamoDB (Terraform Lock)\r- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§) ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª… êµ¬ì„± ìš”ì†Œ ëª©ì  ìœ„ì¹˜ VPC ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ap-northeast-2 Public Subnet ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ 2ê°œ AZ Private Subnet EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜ 2ê°œ AZ EKS Cluster Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ Multi-AZ Node Groups EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ Private Subnet ALB ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ Public Subnet ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ VPC ë° ì„œë¸Œë„· êµ¬ì„± ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì • VPC ì„¤ì •: CIDR: 10.0.0.0/16 Region: ap-northeast-2 (ì„œìš¸) DNS Resolution: Enabled DNS Hostnames: Enabled ê°€ìš© ì˜ì—­: - ap-northeast-2a - ap-northeast-2c ì„œë¸Œë„· ì„¤ê³„ Public Subnets: Public-A: CIDR: 10.0.1.0/24 AZ: ap-northeast-2a ìš©ë„: NAT Gateway, Load Balancer Public-B: CIDR: 10.0.2.0/24 AZ: ap-northeast-2c ìš©ë„: NAT Gateway, Load Balancer Private Subnets: Private-A: CIDR: 10.0.10.0/24 AZ: ap-northeast-2a ìš©ë„: EKS Worker Nodes Private-B: CIDR: 10.0.20.0/24 AZ: ap-northeast-2c ìš©ë„: EKS Worker Nodes ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„ Public Route Table ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: Internet Gateway ì—°ê²°ëœ ì„œë¸Œë„·: - Public Subnet A - Public Subnet B Private Route Tables Private Route Table A: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A ì—°ê²° ì„œë¸Œë„·: Private Subnet A Private Route Table B: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B ì—°ê²° ì„œë¸Œë„·: Private Subnet B ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„ EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹ Control Plane Security Group ì´ë¦„: openwebui-eks-control-plane-sg ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTPS Port: 443 Source: Worker Node Security Group ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Worker Node Security Group ì´ë¦„: openwebui-eks-worker-sg ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: All Traffic Port: All Source: Same Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹  - Type: Custom TCP Port: 1025-65535 Source: Control Plane Security Group ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹  - Type: HTTP Port: 80 Source: ALB Security Group ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ - Type: Custom TCP Port: 30000-32767 Source: ALB Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Application Load Balancer Security Group ì´ë¦„: openwebui-alb-sg ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTP Port: 80 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼ - Type: HTTPS Port: 443 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼ Outbound Rules: - Type: Custom TCP Port: 80 Destination: Worker Node Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ - Type: Custom TCP Port: 30000-32767 Destination: Worker Node Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„ í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì • í´ëŸ¬ìŠ¤í„° ì„¤ì •: ì´ë¦„: openwebui-eks-dev ë²„ì „: 1.28 ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤: Public: true Private: true ë¡œê¹…: - api - audit - authenticator - controllerManager - scheduler Node Group ì„¤ê³„ Primary Node Group ì´ë¦„: openwebui-primary-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 2 ìµœëŒ€: 4 ì›í•˜ëŠ” ìš©ëŸ‰: 2 ë””ìŠ¤í¬: í¬ê¸°: 20GB íƒ€ì…: gp3 ë ˆì´ë¸”: environment: dev nodegroup: primary Taints: ì—†ìŒ Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©) ì´ë¦„: openwebui-spot-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: - t3.medium - t3.large - m5.large êµ¬ë§¤ ì˜µì…˜: Spot Instance ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 0 ìµœëŒ€: 3 ì›í•˜ëŠ” ìš©ëŸ‰: 1 ë ˆì´ë¸”: environment: dev nodegroup: spot Taints: - Key: spot Value: \"true\" Effect: NoSchedule Add-ons ì„¤ì • í•„ìˆ˜ Add-ons: - vpc-cni (ë„¤íŠ¸ì›Œí‚¹) - coredns (DNS) - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ) ì¶”ê°€ Add-ons: - aws-load-balancer-controller - ebs-csi-driver - cluster-autoscaler ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ëª…ëª… ê·œì¹™ í‘œì¤€ í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix} ì˜ˆì‹œ: VPC: openwebui-vpc-dev Subnet: openwebui-public-subnet-dev-a Security Group: openwebui-eks-sg-dev EKS Cluster: openwebui-eks-dev Node Group: openwebui-primary-nodes-dev Load Balancer: openwebui-alb-dev íƒœê·¸ ì „ëµ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸: Project: openwebui Environment: dev Owner: team-name ManagedBy: terraform ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸: EKS Cluster: kubernetes.io/cluster/openwebui-eks-dev: owned Subnet: kubernetes.io/role/elb: 1 (public subnet) kubernetes.io/role/internal-elb: 1 (private subnet) ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™” ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€) ê¸°ë³¸ êµ¬ì„± ì„œë¹„ìŠ¤ ìŠ¤í™ ì›” ì˜ˆìƒ ë¹„ìš© ì„¤ëª… EKS Control Plane ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ $72 í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš© EC2 ì¸ìŠ¤í„´ìŠ¤ 2x t3.medium $60 ì›Œì»¤ ë…¸ë“œ (on-demand) EBS ë³¼ë¥¨ 40GB gp3 $4 ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€ NAT Gateway 2ê°œ AZ $64 ê° AZë‹¹ $32 Load Balancer ALB $22 ê¸°ë³¸ ìš”ê¸ˆ + íŠ¸ë˜í”½ ë°ì´í„° ì „ì†¡ ì˜ˆìƒ 10GB $1 ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ ê¸°íƒ€ ì„œë¹„ìŠ¤ ECR, CloudWatch $5 ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥ ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228\në¹„ìš© ìµœì í™” êµ¬ì„± ì„œë¹„ìŠ¤ ìµœì í™” ë°©ë²• ì ˆì•½ ë¹„ìš© ë¹„ê³  EC2 ì¸ìŠ¤í„´ìŠ¤ Spot Instance ì‚¬ìš© -$42 70% í• ì¸ NAT Gateway ë‹¨ì¼ AZ ì‚¬ìš© -$32 ê³ ê°€ìš©ì„± ì¼ë¶€ í¬ê¸° EBS ë³¼ë¥¨ gp2 â†’ gp3 ì „í™˜ -$1 ì´ë¯¸ ì ìš©ë¨ ìµœì í™”ëœ ë¹„ìš©: ì›” $153\në¹„ìš© ì•Œë¦¼ ì„¤ì • CloudWatch ì˜ˆì‚° ì„¤ì • ì˜ˆì‚° ì´ë¦„: openwebui-monthly-budget ì˜ˆì‚° ê¸ˆì•¡: $200 ì•Œë¦¼ ì„¤ì •: - 80% ë„ë‹¬ ì‹œ ì´ë©”ì¼ ì•Œë¦¼ - 100% ë„ë‹¬ ì‹œ ì´ë©”ì¼ + SMS ì•Œë¦¼ - 120% ì˜ˆìƒ ì‹œ ê¸´ê¸‰ ì•Œë¦¼ ë¹„ìš© íƒœê·¸ ì „ëµ ë¹„ìš© ì¶”ì  íƒœê·¸: CostCenter: openwebui-project Department: engineering Team: devops Environment: dev ğŸ”„ ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ë°±ì—… ì „ëµ Terraform State ë°±ì—… S3 ë²„í‚· ì„¤ì •: ì´ë¦„: openwebui-terraform-state-{random-suffix} ë²„ì „ ê´€ë¦¬: í™œì„±í™” ì•”í˜¸í™”: AES-256 ìƒëª…ì£¼ê¸° ì •ì±…: - 90ì¼ í›„ IAë¡œ ì „í™˜ - 365ì¼ í›„ Glacierë¡œ ì „í™˜ DynamoDB ë½ í…Œì´ë¸”: ì´ë¦„: terraform-lock Primary Key: LockID ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë°±ì—… EBS ìŠ¤ëƒ…ìƒ·: ìë™ ìŠ¤ëƒ…ìƒ·: ë§¤ì¼ ì˜¤ì „ 3ì‹œ ë³´ì¡´ ê¸°ê°„: 7ì¼ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…: RDS ìë™ ë°±ì—…: í™œì„±í™” (í–¥í›„ ì‚¬ìš© ì‹œ) ë°±ì—… ë³´ì¡´: 7ì¼ ì¬í•´ ë³µêµ¬ ê³„íš RTO/RPO ëª©í‘œ RTO (Recovery Time Objective): 4ì‹œê°„ RPO (Recovery Point Objective): 1ì‹œê°„ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤: 1. ë‹¨ì¼ AZ ì¥ì• : ìë™ ë³µêµ¬ (10ë¶„) 2. ì „ì²´ í´ëŸ¬ìŠ¤í„° ì¥ì• : ìˆ˜ë™ ë³µêµ¬ (2ì‹œê°„) 3. ë¦¬ì „ ì¥ì• : íƒ€ ë¦¬ì „ ë³µêµ¬ (4ì‹œê°„) ë³µêµ¬ ì ˆì°¨ 1ë‹¨ê³„: ìƒí™© í‰ê°€ - ì¥ì•  ë²”ìœ„ í™•ì¸ - ì˜í–¥ë„ í‰ê°€ - ë³µêµ¬ ì „ëµ ê²°ì • 2ë‹¨ê³„: ê¸´ê¸‰ ì¡°ì¹˜ - íŠ¸ë˜í”½ ìš°íšŒ - ì•Œë¦¼ ë°œì†¡ - ë¡œê·¸ ìˆ˜ì§‘ 3ë‹¨ê³„: ë³µêµ¬ ì‹¤í–‰ - Terraformìœ¼ë¡œ ì¸í”„ë¼ ì¬ìƒì„± - ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ - ë°ì´í„° ë³µêµ¬ 4ë‹¨ê³„: ê²€ì¦ - ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ - ì„±ëŠ¥ í™•ì¸ - ëª¨ë‹ˆí„°ë§ ë³µêµ¬ ğŸ” ë³´ì•ˆ ì„¤ê³„ IAM ê¶Œí•œ ì„¤ê³„ EKS Service Role ì—­í•  ì´ë¦„: openwebui-eks-service-role ì •ì±…: - AmazonEKSClusterPolicy ì‹ ë¢° ê´€ê³„: - eks.amazonaws.com Node Group Instance Role ì—­í•  ì´ë¦„: openwebui-eks-nodegroup-role ì •ì±…: - AmazonEKSWorkerNodePolicy - AmazonEKS_CNI_Policy - AmazonEC2ContainerRegistryReadOnly ì‹ ë¢° ê´€ê³„: - ec2.amazonaws.com ìµœì†Œ ê¶Œí•œ ì›ì¹™ ê°œë°œì ê¶Œí•œ: - EKS í´ëŸ¬ìŠ¤í„° ì½ê¸° ì „ìš© - ECR í‘¸ì‹œ/í’€ - CloudWatch ë¡œê·¸ ì½ê¸° ìš´ì˜ì ê¶Œí•œ: - EKS í´ëŸ¬ìŠ¤í„° ì „ì²´ ê´€ë¦¬ - EC2 ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ - ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì ‘ê·¼ ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ë„¤íŠ¸ì›Œí¬ ACL Public Subnet ACL: Inbound: - HTTP/HTTPS (80, 443) from 0.0.0.0/0 - SSH (22) from ê´€ë¦¬ì IP Outbound: - All traffic to 0.0.0.0/0 Private Subnet ACL: Inbound: - All traffic from VPC CIDR Outbound: - All traffic to 0.0.0.0/0 VPC Flow Logs ì„¤ì •: ëŒ€ìƒ: CloudWatch Logs íŠ¸ë˜í”½ íƒ€ì…: ALL ì§‘ê³„ ê°„ê²©: 1ë¶„ ë¡œê·¸ ê·¸ë£¹: /aws/vpc/flowlogs ë³´ì¡´ ê¸°ê°„: 30ì¼ ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì„¤ê³„ CloudWatch ì„¤ì • ë©”íŠ¸ë¦­ ìˆ˜ì§‘ EKS ë©”íŠ¸ë¦­: - í´ëŸ¬ìŠ¤í„° ìƒíƒœ - ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  - íŒŒë“œ ìƒíƒœ EC2 ë©”íŠ¸ë¦­: - CPU, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ - ë””ìŠ¤í¬ ì‚¬ìš©ë¥  - ì‹œìŠ¤í…œ ë¡œë“œ ë¡œê·¸ ìˆ˜ì§‘ ë¡œê·¸ ê·¸ë£¹: - /aws/eks/openwebui-eks-dev/cluster - /aws/ec2/openwebui - /aws/application/openwebui ë³´ì¡´ ê¸°ê°„: 30ì¼ ì•Œë¦¼ ì„¤ì • CloudWatch ì•ŒëŒ CPU ì‚¬ìš©ë¥ : ì„ê³„ê°’: 80% í‰ê°€ ê¸°ê°„: 5ë¶„ ì•Œë¦¼: SNS Topic ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ : ì„ê³„ê°’: 85% í‰ê°€ ê¸°ê°„: 5ë¶„ ì•Œë¦¼: SNS Topic íŒŒë“œ ì‹¤íŒ¨: ì„ê³„ê°’: 1ê°œ ì´ìƒ í‰ê°€ ê¸°ê°„: 1ë¶„ ì•Œë¦¼: SNS Topic + Slack âœ… ì„¤ê³„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ ê²€ì¦ VPC CIDRê°€ ë‹¤ë¥¸ VPCì™€ ê²¹ì¹˜ì§€ ì•ŠëŠ”ê°€? ì„œë¸Œë„·ì´ ì ì ˆíˆ ë¶„í• ë˜ì–´ ìˆëŠ”ê°€? NAT Gatewayê°€ ê° AZì— ë°°ì¹˜ë˜ì–´ ìˆëŠ”ê°€? ë¼ìš°íŒ… í…Œì´ë¸”ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? ë³´ì•ˆ ì„¤ê³„ ê²€ì¦ ë³´ì•ˆ ê·¸ë£¹ì´ ìµœì†Œ ê¶Œí•œìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? IAM ì—­í• ì´ ì ì ˆíˆ ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ê°€? í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ì— ì§ì ‘ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ê°€? ë¡œê·¸ì™€ ëª¨ë‹ˆí„°ë§ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? ê³ ê°€ìš©ì„± ê²€ì¦ ë¦¬ì†ŒìŠ¤ê°€ ë‹¤ì¤‘ AZì— ë¶„ì‚°ë˜ì–´ ìˆëŠ”ê°€? ìë™ ìŠ¤ì¼€ì¼ë§ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? ë°±ì—… ì „ëµì´ ìˆ˜ë¦½ë˜ì–´ ìˆëŠ”ê°€? ì¥ì•  ë³µêµ¬ ì ˆì°¨ê°€ ë¬¸ì„œí™”ë˜ì–´ ìˆëŠ”ê°€? ë¹„ìš© ìµœì í™” ê²€ì¦ ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ê°€ ì œê±°ë˜ì–´ ìˆëŠ”ê°€? Spot ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©ì„ ê³ ë ¤í–ˆëŠ”ê°€? ë¹„ìš© ì•Œë¦¼ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? ë¦¬ì†ŒìŠ¤ íƒœê·¸ê°€ ì ì ˆíˆ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€? ğŸš¨ ì£¼ì˜ì‚¬í•­ ë° ì œí•œì‚¬í•­ ê°œë°œ í™˜ê²½ ì œí•œì‚¬í•­ ì¸ìŠ¤í„´ìŠ¤ ì œí•œ: - ìµœëŒ€ 10ê°œ EC2 ì¸ìŠ¤í„´ìŠ¤ - í”„ë¦¬í‹°ì–´ í˜œíƒ í™œìš© ë„¤íŠ¸ì›Œí¬ ì œí•œ: - ë‹¨ì¼ ë¦¬ì „ ì‚¬ìš© - ìµœì†Œí•œì˜ NAT Gateway ìŠ¤í† ë¦¬ì§€ ì œí•œ: - ê¸°ë³¸ EBS ë³¼ë¥¨ë§Œ ì‚¬ìš© - ë°±ì—… ë³´ì¡´ ê¸°ê°„ ë‹¨ì¶• ìš´ì˜ í™˜ê²½ ê³ ë ¤ì‚¬í•­ í™•ì¥ì„±: - Auto Scaling ê·¸ë£¹ ì„¤ì • - ë¡œë“œ ë°¸ëŸ°ì„œ í™•ì¥ ì¤€ë¹„ ë³´ì•ˆ: - WAF ì„¤ì • ê³ ë ¤ - VPN ì—°ê²° ê³ ë ¤ ëª¨ë‹ˆí„°ë§: - ìƒì„¸ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ - ì•Œë¦¼ ì±„ë„ í™•ì¥ ğŸ“š ì°¸ê³  ìë£Œ AWS VPC ì„¤ê³„ ëª¨ë²” ì‚¬ë¡€ Amazon EKS ë³´ì•ˆ ê·¸ë£¹ EKS ë„¤íŠ¸ì›Œí‚¹ AWS ë¹„ìš© ìµœì í™” â­ï¸ ë‹¤ìŒ ë‹¨ê³„ í™˜ê²½ ì„¤ê³„ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ë‹¤ìŒ ë¬¸ì„œë¡œ ì§„í–‰í•˜ì„¸ìš”:\n[03-terraform-configuration.md] - Terraformìœ¼ë¡œ ì¸í”„ë¼ êµ¬í˜„ [04-eks-deployment.md] - EKS í´ëŸ¬ìŠ¤í„° ë°°í¬ [05-application-deployment.md] - ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ğŸ’¡ íŒ: ì´ ì„¤ê³„ ë¬¸ì„œëŠ” ì‹¤ì œ êµ¬í˜„ ì „ì— íŒ€ì›ë“¤ê³¼ ê²€í† í•˜ê³  ìŠ¹ì¸ë°›ìœ¼ì„¸ìš”. í•œ ë²ˆ ë°°í¬ëœ í›„ì—ëŠ” ë³€ê²½ì´ ì–´ë ¤ìš´ ë¶€ë¶„ë“¤ì´ ìˆìŠµë‹ˆë‹¤!\n",
  "wordCount" : "1606",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "8dobibim Tech Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://8dobibim.github.io/" accesskey="h" title="8dobibim Tech Blog (Alt + H)">8dobibim Tech Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://8dobibim.github.io/frontend/" title="ğŸ–¥ í”„ë¡ íŠ¸ì—”ë“œ">
                    <span>ğŸ–¥ í”„ë¡ íŠ¸ì—”ë“œ</span>
                </a>
            </li>
            <li>
                <a href="https://8dobibim.github.io/backend/" title="ğŸ’¾ ë°±ì—”ë“œ">
                    <span>ğŸ’¾ ë°±ì—”ë“œ</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://8dobibim.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://8dobibim.github.io/backend/">Backend ë¬¸ì„œ</a></div>
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">8 min&nbsp;Â·&nbsp;1606 words

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#-aws-%ed%99%98%ea%b2%bd-%ec%84%a4%ec%a0%95-%ea%b0%80%ec%9d%b4%eb%93%9c" aria-label="ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ">ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ</a><ul>
                        
                <li>
                    <a href="#-%ec%84%a4%ec%a0%95-%ec%99%84%eb%a3%8c-%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8" aria-label="ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸">ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸</a></li>
                <li>
                    <a href="#-%ec%a0%84%ec%b2%b4-%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98-%ea%b0%9c%ec%9a%94" aria-label="ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”">ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”</a><ul>
                        
                <li>
                    <a href="#%ec%8b%9c%ec%8a%a4%ed%85%9c-%ea%b5%ac%ec%84%b1%eb%8f%84" aria-label="ì‹œìŠ¤í…œ êµ¬ì„±ë„">ì‹œìŠ¤í…œ êµ¬ì„±ë„</a></li>
                <li>
                    <a href="#%ec%a3%bc%ec%9a%94-%ea%b5%ac%ec%84%b1-%ec%9a%94%ec%86%8c-%ec%84%a4%eb%aa%85" aria-label="ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª…">ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª…</a></li></ul>
                </li>
                <li>
                    <a href="#-%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac-%ec%84%a4%ea%b3%84" aria-label="ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„">ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#vpc-%eb%b0%8f-%ec%84%9c%eb%b8%8c%eb%84%b7-%ea%b5%ac%ec%84%b1" aria-label="VPC ë° ì„œë¸Œë„· êµ¬ì„±">VPC ë° ì„œë¸Œë„· êµ¬ì„±</a><ul>
                        
                <li>
                    <a href="#%ea%b8%b0%eb%b3%b8-%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac-%ec%84%a4%ec%a0%95" aria-label="ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •">ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •</a></li>
                <li>
                    <a href="#%ec%84%9c%eb%b8%8c%eb%84%b7-%ec%84%a4%ea%b3%84" aria-label="ì„œë¸Œë„· ì„¤ê³„">ì„œë¸Œë„· ì„¤ê³„</a></li></ul>
                </li>
                <li>
                    <a href="#%eb%9d%bc%ec%9a%b0%ed%8c%85-%ed%85%8c%ec%9d%b4%eb%b8%94-%ec%84%a4%ea%b3%84" aria-label="ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„">ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#public-route-table" aria-label="Public Route Table">Public Route Table</a></li>
                <li>
                    <a href="#private-route-tables" aria-label="Private Route Tables">Private Route Tables</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-%eb%b3%b4%ec%95%88-%ea%b7%b8%eb%a3%b9-%ec%84%a4%ea%b3%84" aria-label="ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„">ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#eks-%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0-%eb%b3%b4%ec%95%88-%ea%b7%b8%eb%a3%b9" aria-label="EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹">EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹</a><ul>
                        
                <li>
                    <a href="#control-plane-security-group" aria-label="Control Plane Security Group">Control Plane Security Group</a></li>
                <li>
                    <a href="#worker-node-security-group" aria-label="Worker Node Security Group">Worker Node Security Group</a></li>
                <li>
                    <a href="#application-load-balancer-security-group" aria-label="Application Load Balancer Security Group">Application Load Balancer Security Group</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-eks-%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0-%ec%84%a4%ea%b3%84" aria-label="âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„">âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0-%ea%b8%b0%eb%b3%b8-%ec%84%a4%ec%a0%95" aria-label="í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì •">í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì •</a></li>
                <li>
                    <a href="#node-group-%ec%84%a4%ea%b3%84" aria-label="Node Group ì„¤ê³„">Node Group ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#primary-node-group" aria-label="Primary Node Group">Primary Node Group</a></li>
                <li>
                    <a href="#spot-instance-node-group-%eb%b9%84%ec%9a%a9-%ec%a0%88%ec%95%bd%ec%9a%a9" aria-label="Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©)">Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©)</a></li></ul>
                </li>
                <li>
                    <a href="#add-ons-%ec%84%a4%ec%a0%95" aria-label="Add-ons ì„¤ì •">Add-ons ì„¤ì •</a></li></ul>
                </li>
                <li>
                    <a href="#-%eb%a6%ac%ec%86%8c%ec%8a%a4-%eb%aa%85%eb%aa%85-%ea%b7%9c%ec%b9%99" aria-label="ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™">ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™</a><ul>
                        
                <li>
                    <a href="#%eb%aa%85%eb%aa%85-%ea%b7%9c%ec%b9%99-%ed%91%9c%ec%a4%80" aria-label="ëª…ëª… ê·œì¹™ í‘œì¤€">ëª…ëª… ê·œì¹™ í‘œì¤€</a></li>
                <li>
                    <a href="#%ed%83%9c%ea%b7%b8-%ec%a0%84%eb%9e%b5" aria-label="íƒœê·¸ ì „ëµ">íƒœê·¸ ì „ëµ</a></li></ul>
                </li>
                <li>
                    <a href="#-%eb%b9%84%ec%9a%a9-%ea%b3%84%ec%82%b0-%eb%b0%8f-%ec%b5%9c%ec%a0%81%ed%99%94" aria-label="ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™”">ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™”</a><ul>
                        
                <li>
                    <a href="#%ec%98%88%ec%83%81-%ec%9b%94-%eb%b9%84%ec%9a%a9-%ec%84%9c%ec%9a%b8-%eb%a6%ac%ec%a0%84-%ea%b8%b0%ec%a4%80" aria-label="ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€)">ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€)</a><ul>
                        
                <li>
                    <a href="#%ea%b8%b0%eb%b3%b8-%ea%b5%ac%ec%84%b1" aria-label="ê¸°ë³¸ êµ¬ì„±">ê¸°ë³¸ êµ¬ì„±</a></li>
                <li>
                    <a href="#%eb%b9%84%ec%9a%a9-%ec%b5%9c%ec%a0%81%ed%99%94-%ea%b5%ac%ec%84%b1" aria-label="ë¹„ìš© ìµœì í™” êµ¬ì„±">ë¹„ìš© ìµœì í™” êµ¬ì„±</a></li></ul>
                </li>
                <li>
                    <a href="#%eb%b9%84%ec%9a%a9-%ec%95%8c%eb%a6%bc-%ec%84%a4%ec%a0%95" aria-label="ë¹„ìš© ì•Œë¦¼ ì„¤ì •">ë¹„ìš© ì•Œë¦¼ ì„¤ì •</a><ul>
                        
                <li>
                    <a href="#cloudwatch-%ec%98%88%ec%82%b0-%ec%84%a4%ec%a0%95" aria-label="CloudWatch ì˜ˆì‚° ì„¤ì •">CloudWatch ì˜ˆì‚° ì„¤ì •</a></li>
                <li>
                    <a href="#%eb%b9%84%ec%9a%a9-%ed%83%9c%ea%b7%b8-%ec%a0%84%eb%9e%b5" aria-label="ë¹„ìš© íƒœê·¸ ì „ëµ">ë¹„ìš© íƒœê·¸ ì „ëµ</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-%eb%b0%b1%ec%97%85-%eb%b0%8f-%ec%9e%ac%ed%95%b4-%eb%b3%b5%ea%b5%ac-%ea%b3%84%ed%9a%8d" aria-label="ğŸ”„ ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš">ğŸ”„ ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš</a><ul>
                        
                <li>
                    <a href="#%eb%b0%b1%ec%97%85-%ec%a0%84%eb%9e%b5" aria-label="ë°±ì—… ì „ëµ">ë°±ì—… ì „ëµ</a><ul>
                        
                <li>
                    <a href="#terraform-state-%eb%b0%b1%ec%97%85" aria-label="Terraform State ë°±ì—…">Terraform State ë°±ì—…</a></li>
                <li>
                    <a href="#%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98-%eb%8d%b0%ec%9d%b4%ed%84%b0-%eb%b0%b1%ec%97%85" aria-label="ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë°±ì—…">ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë°±ì—…</a></li></ul>
                </li>
                <li>
                    <a href="#%ec%9e%ac%ed%95%b4-%eb%b3%b5%ea%b5%ac-%ea%b3%84%ed%9a%8d" aria-label="ì¬í•´ ë³µêµ¬ ê³„íš">ì¬í•´ ë³µêµ¬ ê³„íš</a><ul>
                        
                <li>
                    <a href="#rtorpo-%eb%aa%a9%ed%91%9c" aria-label="RTO/RPO ëª©í‘œ">RTO/RPO ëª©í‘œ</a></li>
                <li>
                    <a href="#%eb%b3%b5%ea%b5%ac-%ec%a0%88%ec%b0%a8" aria-label="ë³µêµ¬ ì ˆì°¨">ë³µêµ¬ ì ˆì°¨</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-%eb%b3%b4%ec%95%88-%ec%84%a4%ea%b3%84" aria-label="ğŸ” ë³´ì•ˆ ì„¤ê³„">ğŸ” ë³´ì•ˆ ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#iam-%ea%b6%8c%ed%95%9c-%ec%84%a4%ea%b3%84" aria-label="IAM ê¶Œí•œ ì„¤ê³„">IAM ê¶Œí•œ ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#eks-service-role" aria-label="EKS Service Role">EKS Service Role</a></li>
                <li>
                    <a href="#node-group-instance-role" aria-label="Node Group Instance Role">Node Group Instance Role</a></li>
                <li>
                    <a href="#%ec%b5%9c%ec%86%8c-%ea%b6%8c%ed%95%9c-%ec%9b%90%ec%b9%99" aria-label="ìµœì†Œ ê¶Œí•œ ì›ì¹™">ìµœì†Œ ê¶Œí•œ ì›ì¹™</a></li></ul>
                </li>
                <li>
                    <a href="#%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac-%eb%b3%b4%ec%95%88" aria-label="ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ">ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ</a><ul>
                        
                <li>
                    <a href="#%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac-acl" aria-label="ë„¤íŠ¸ì›Œí¬ ACL">ë„¤íŠ¸ì›Œí¬ ACL</a></li>
                <li>
                    <a href="#vpc-flow-logs" aria-label="VPC Flow Logs">VPC Flow Logs</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-%eb%aa%a8%eb%8b%88%ed%84%b0%eb%a7%81-%eb%b0%8f-%eb%a1%9c%ea%b9%85-%ec%84%a4%ea%b3%84" aria-label="ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì„¤ê³„">ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì„¤ê³„</a><ul>
                        
                <li>
                    <a href="#cloudwatch-%ec%84%a4%ec%a0%95" aria-label="CloudWatch ì„¤ì •">CloudWatch ì„¤ì •</a><ul>
                        
                <li>
                    <a href="#%eb%a9%94%ed%8a%b8%eb%a6%ad-%ec%88%98%ec%a7%91" aria-label="ë©”íŠ¸ë¦­ ìˆ˜ì§‘">ë©”íŠ¸ë¦­ ìˆ˜ì§‘</a></li>
                <li>
                    <a href="#%eb%a1%9c%ea%b7%b8-%ec%88%98%ec%a7%91" aria-label="ë¡œê·¸ ìˆ˜ì§‘">ë¡œê·¸ ìˆ˜ì§‘</a></li></ul>
                </li>
                <li>
                    <a href="#%ec%95%8c%eb%a6%bc-%ec%84%a4%ec%a0%95" aria-label="ì•Œë¦¼ ì„¤ì •">ì•Œë¦¼ ì„¤ì •</a><ul>
                        
                <li>
                    <a href="#cloudwatch-%ec%95%8c%eb%9e%8c" aria-label="CloudWatch ì•ŒëŒ">CloudWatch ì•ŒëŒ</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-%ec%84%a4%ea%b3%84-%ea%b2%80%ec%a6%9d-%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8" aria-label="âœ… ì„¤ê³„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸">âœ… ì„¤ê³„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸</a><ul>
                        
                <li>
                    <a href="#%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac-%ec%84%a4%ea%b3%84-%ea%b2%80%ec%a6%9d" aria-label="ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ ê²€ì¦">ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ ê²€ì¦</a></li>
                <li>
                    <a href="#%eb%b3%b4%ec%95%88-%ec%84%a4%ea%b3%84-%ea%b2%80%ec%a6%9d" aria-label="ë³´ì•ˆ ì„¤ê³„ ê²€ì¦">ë³´ì•ˆ ì„¤ê³„ ê²€ì¦</a></li>
                <li>
                    <a href="#%ea%b3%a0%ea%b0%80%ec%9a%a9%ec%84%b1-%ea%b2%80%ec%a6%9d" aria-label="ê³ ê°€ìš©ì„± ê²€ì¦">ê³ ê°€ìš©ì„± ê²€ì¦</a></li>
                <li>
                    <a href="#%eb%b9%84%ec%9a%a9-%ec%b5%9c%ec%a0%81%ed%99%94-%ea%b2%80%ec%a6%9d" aria-label="ë¹„ìš© ìµœì í™” ê²€ì¦">ë¹„ìš© ìµœì í™” ê²€ì¦</a></li></ul>
                </li>
                <li>
                    <a href="#-%ec%a3%bc%ec%9d%98%ec%82%ac%ed%95%ad-%eb%b0%8f-%ec%a0%9c%ed%95%9c%ec%82%ac%ed%95%ad" aria-label="ğŸš¨ ì£¼ì˜ì‚¬í•­ ë° ì œí•œì‚¬í•­">ğŸš¨ ì£¼ì˜ì‚¬í•­ ë° ì œí•œì‚¬í•­</a><ul>
                        
                <li>
                    <a href="#%ea%b0%9c%eb%b0%9c-%ed%99%98%ea%b2%bd-%ec%a0%9c%ed%95%9c%ec%82%ac%ed%95%ad" aria-label="ê°œë°œ í™˜ê²½ ì œí•œì‚¬í•­">ê°œë°œ í™˜ê²½ ì œí•œì‚¬í•­</a></li>
                <li>
                    <a href="#%ec%9a%b4%ec%98%81-%ed%99%98%ea%b2%bd-%ea%b3%a0%eb%a0%a4%ec%82%ac%ed%95%ad" aria-label="ìš´ì˜ í™˜ê²½ ê³ ë ¤ì‚¬í•­">ìš´ì˜ í™˜ê²½ ê³ ë ¤ì‚¬í•­</a></li></ul>
                </li>
                <li>
                    <a href="#-%ec%b0%b8%ea%b3%a0-%ec%9e%90%eb%a3%8c" aria-label="ğŸ“š ì°¸ê³  ìë£Œ">ğŸ“š ì°¸ê³  ìë£Œ</a></li>
                <li>
                    <a href="#-%eb%8b%a4%ec%9d%8c-%eb%8b%a8%ea%b3%84" aria-label="â­ï¸ ë‹¤ìŒ ë‹¨ê³„">â­ï¸ ë‹¤ìŒ ë‹¨ê³„</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="-aws-í™˜ê²½-ì„¤ì •-ê°€ì´ë“œ">ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ<a hidden class="anchor" aria-hidden="true" href="#-aws-í™˜ê²½-ì„¤ì •-ê°€ì´ë“œ">#</a></h1>
<blockquote>
<p><strong>â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„</strong>: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)<br>
<strong>ğŸ’¡ ë‚œì´ë„</strong>: ì´ˆê¸‰-ì¤‘ê¸‰<br>
<strong>ğŸ“‹ ëª©í‘œ</strong>: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.</p></blockquote>
<hr>
<h2 id="-ì„¤ì •-ì™„ë£Œ-ì²´í¬ë¦¬ìŠ¤íŠ¸">ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸<a hidden class="anchor" aria-hidden="true" href="#-ì„¤ì •-ì™„ë£Œ-ì²´í¬ë¦¬ìŠ¤íŠ¸">#</a></h2>
<ul>
<li><input disabled="" type="checkbox"> ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ</li>
<li><input disabled="" type="checkbox"> ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜</li>
<li><input disabled="" type="checkbox"> ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½</li>
<li><input disabled="" type="checkbox"> EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš</li>
<li><input disabled="" type="checkbox"> ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì •</li>
<li><input disabled="" type="checkbox"> ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš</li>
</ul>
<hr>
<h2 id="-ì „ì²´-ì•„í‚¤í…ì²˜-ê°œìš”">ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”<a hidden class="anchor" aria-hidden="true" href="#-ì „ì²´-ì•„í‚¤í…ì²˜-ê°œìš”">#</a></h2>
<h3 id="ì‹œìŠ¤í…œ-êµ¬ì„±ë„">ì‹œìŠ¤í…œ êµ¬ì„±ë„<a hidden class="anchor" aria-hidden="true" href="#ì‹œìŠ¤í…œ-êµ¬ì„±ë„">#</a></h3>
<pre tabindex="0"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS Cloud                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                  VPC (10.0.0.0/16)                     â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚   Public Subnet A   â”‚  â”‚    Public Subnet B         â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.1.0/24)     â”‚  â”‚    (10.0.2.0/24)          â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  NAT Gateway A  â”‚â”‚  â”‚  â”‚   NAT Gateway B         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Internet Gatewayâ”‚â”‚  â”‚  â”‚   Load Balancer         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  Private Subnet A   â”‚  â”‚   Private Subnet B          â”‚â”‚â”‚
â”‚  â”‚  â”‚   (10.0.10.0/24)    â”‚  â”‚   (10.0.20.0/24)           â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ EKS Node Group Aâ”‚â”‚  â”‚  â”‚  EKS Node Group B       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                 â”‚â”‚  â”‚  â”‚                         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ OpenWebUI Pods  â”‚â”‚  â”‚  â”‚   LiteLLM Pods          â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Monitoring Pods â”‚â”‚  â”‚  â”‚   Database Pods         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚                  EKS Control Plane                  â”‚â”‚
â”‚  â”‚  â”‚                 (AWS Managed)                       â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì—°ê²°:
- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)
- S3 (Terraform State, ë°±ì—…)
- DynamoDB (Terraform Lock)
- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§)
</code></pre><h3 id="ì£¼ìš”-êµ¬ì„±-ìš”ì†Œ-ì„¤ëª…">ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª…<a hidden class="anchor" aria-hidden="true" href="#ì£¼ìš”-êµ¬ì„±-ìš”ì†Œ-ì„¤ëª…">#</a></h3>
<table>
  <thead>
      <tr>
          <th>êµ¬ì„± ìš”ì†Œ</th>
          <th>ëª©ì </th>
          <th>ìœ„ì¹˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>VPC</strong></td>
          <td>ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½</td>
          <td>ap-northeast-2</td>
      </tr>
      <tr>
          <td><strong>Public Subnet</strong></td>
          <td>ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ</td>
          <td>2ê°œ AZ</td>
      </tr>
      <tr>
          <td><strong>Private Subnet</strong></td>
          <td>EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜</td>
          <td>2ê°œ AZ</td>
      </tr>
      <tr>
          <td><strong>EKS Cluster</strong></td>
          <td>Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤</td>
          <td>Multi-AZ</td>
      </tr>
      <tr>
          <td><strong>Node Groups</strong></td>
          <td>EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹</td>
          <td>Private Subnet</td>
      </tr>
      <tr>
          <td><strong>ALB</strong></td>
          <td>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ</td>
          <td>Public Subnet</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-ë„¤íŠ¸ì›Œí¬-ì„¤ê³„">ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#-ë„¤íŠ¸ì›Œí¬-ì„¤ê³„">#</a></h2>
<h3 id="vpc-ë°-ì„œë¸Œë„·-êµ¬ì„±">VPC ë° ì„œë¸Œë„· êµ¬ì„±<a hidden class="anchor" aria-hidden="true" href="#vpc-ë°-ì„œë¸Œë„·-êµ¬ì„±">#</a></h3>
<h4 id="ê¸°ë³¸-ë„¤íŠ¸ì›Œí¬-ì„¤ì •">ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#ê¸°ë³¸-ë„¤íŠ¸ì›Œí¬-ì„¤ì •">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">VPC ì„¤ì •</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">CIDR</span>: <span style="color:#ae81ff">10.0.0.0</span><span style="color:#ae81ff">/16</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Region</span>: <span style="color:#ae81ff">ap-northeast-2 (ì„œìš¸)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">DNS Resolution</span>: <span style="color:#ae81ff">Enabled</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">DNS Hostnames</span>: <span style="color:#ae81ff">Enabled</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ê°€ìš© ì˜ì—­</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ap-northeast-2a</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ap-northeast-2c</span>
</span></span></code></pre></div><h4 id="ì„œë¸Œë„·-ì„¤ê³„">ì„œë¸Œë„· ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#ì„œë¸Œë„·-ì„¤ê³„">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">Public Subnets</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Public-A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">CIDR</span>: <span style="color:#ae81ff">10.0.1.0</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AZ</span>: <span style="color:#ae81ff">ap-northeast-2a</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ìš©ë„</span>: <span style="color:#ae81ff">NAT Gateway, Load Balancer</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Public-B</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">CIDR</span>: <span style="color:#ae81ff">10.0.2.0</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AZ</span>: <span style="color:#ae81ff">ap-northeast-2c</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ìš©ë„</span>: <span style="color:#ae81ff">NAT Gateway, Load Balancer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Private Subnets</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Private-A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">CIDR</span>: <span style="color:#ae81ff">10.0.10.0</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AZ</span>: <span style="color:#ae81ff">ap-northeast-2a</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ìš©ë„</span>: <span style="color:#ae81ff">EKS Worker Nodes</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Private-B</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">CIDR</span>: <span style="color:#ae81ff">10.0.20.0</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AZ</span>: <span style="color:#ae81ff">ap-northeast-2c</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ìš©ë„</span>: <span style="color:#ae81ff">EKS Worker Nodes</span>
</span></span></code></pre></div><h3 id="ë¼ìš°íŒ…-í…Œì´ë¸”-ì„¤ê³„">ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#ë¼ìš°íŒ…-í…Œì´ë¸”-ì„¤ê³„">#</a></h3>
<h4 id="public-route-table">Public Route Table<a hidden class="anchor" aria-hidden="true" href="#public-route-table">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ëŒ€ìƒ</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ê²Œì´íŠ¸ì›¨ì´</span>: <span style="color:#ae81ff">Internet Gateway</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì—°ê²°ëœ ì„œë¸Œë„·</span>:
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">Public Subnet A</span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">Public Subnet B</span>
</span></span></code></pre></div><h4 id="private-route-tables">Private Route Tables<a hidden class="anchor" aria-hidden="true" href="#private-route-tables">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">Private Route Table A</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ëŒ€ìƒ</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ê²Œì´íŠ¸ì›¨ì´</span>: <span style="color:#ae81ff">NAT Gateway A</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì—°ê²° ì„œë¸Œë„·</span>: <span style="color:#ae81ff">Private Subnet A</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Private Route Table B</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ëŒ€ìƒ</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ê²Œì´íŠ¸ì›¨ì´</span>: <span style="color:#ae81ff">NAT Gateway B</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì—°ê²° ì„œë¸Œë„·</span>: <span style="color:#ae81ff">Private Subnet B</span>
</span></span></code></pre></div><hr>
<h2 id="-ë³´ì•ˆ-ê·¸ë£¹-ì„¤ê³„">ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#-ë³´ì•ˆ-ê·¸ë£¹-ì„¤ê³„">#</a></h2>
<h3 id="eks-í´ëŸ¬ìŠ¤í„°-ë³´ì•ˆ-ê·¸ë£¹">EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹<a hidden class="anchor" aria-hidden="true" href="#eks-í´ëŸ¬ìŠ¤í„°-ë³´ì•ˆ-ê·¸ë£¹">#</a></h3>
<h4 id="control-plane-security-group">Control Plane Security Group<a hidden class="anchor" aria-hidden="true" href="#control-plane-security-group">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-eks-control-plane-sg</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">EKS Control Plane ë³´ì•ˆ ê·¸ë£¹</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Inbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">HTTPS</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">Worker Node Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Outbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">All Traffic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">All</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Destination</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©</span>
</span></span></code></pre></div><h4 id="worker-node-security-group">Worker Node Security Group<a hidden class="anchor" aria-hidden="true" href="#worker-node-security-group">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-eks-worker-sg</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">EKS Worker Node ë³´ì•ˆ ê·¸ë£¹</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Inbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">All Traffic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">All</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">Same Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ì›Œì»¤ ë…¸ë“œê°„ í†µì‹ </span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">Custom TCP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">1025-65535</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">Control Plane Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">Control Planeì—ì„œ kubelet í†µì‹ </span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">HTTP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">ALB Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">Custom TCP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">30000-32767</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">ALB Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Outbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">All Traffic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">All</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Destination</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš©</span>
</span></span></code></pre></div><h4 id="application-load-balancer-security-group">Application Load Balancer Security Group<a hidden class="anchor" aria-hidden="true" href="#application-load-balancer-security-group">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-alb-sg</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ALB ë³´ì•ˆ ê·¸ë£¹</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Inbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">HTTP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">HTTPS</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Source</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Outbound Rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">Custom TCP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Destination</span>: <span style="color:#ae81ff">Worker Node Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">Custom TCP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Port</span>: <span style="color:#ae81ff">30000-32767</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Destination</span>: <span style="color:#ae81ff">Worker Node Security Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ì„¤ëª…</span>: <span style="color:#ae81ff">NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼</span>
</span></span></code></pre></div><hr>
<h2 id="-eks-í´ëŸ¬ìŠ¤í„°-ì„¤ê³„">âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#-eks-í´ëŸ¬ìŠ¤í„°-ì„¤ê³„">#</a></h2>
<h3 id="í´ëŸ¬ìŠ¤í„°-ê¸°ë³¸-ì„¤ì •">í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#í´ëŸ¬ìŠ¤í„°-ê¸°ë³¸-ì„¤ì •">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">í´ëŸ¬ìŠ¤í„° ì„¤ì •</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-eks-dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ë²„ì „</span>: <span style="color:#ae81ff">1.28</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Public</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Private</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ë¡œê¹…</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">api</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">audit</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">authenticator</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">controllerManager</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">scheduler</span>
</span></span></code></pre></div><h3 id="node-group-ì„¤ê³„">Node Group ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#node-group-ì„¤ê³„">#</a></h3>
<h4 id="primary-node-group">Primary Node Group<a hidden class="anchor" aria-hidden="true" href="#primary-node-group">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-primary-nodes</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…</span>: <span style="color:#ae81ff">t3.medium</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ìŠ¤ì¼€ì¼ë§</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìµœì†Œ</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìµœëŒ€</span>: <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì›í•˜ëŠ” ìš©ëŸ‰</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë””ìŠ¤í¬</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">í¬ê¸°</span>: <span style="color:#ae81ff">20GB</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">íƒ€ì…</span>: <span style="color:#ae81ff">gp3</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë ˆì´ë¸”</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">environment</span>: <span style="color:#ae81ff">dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nodegroup</span>: <span style="color:#ae81ff">primary</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">Taints</span>: <span style="color:#ae81ff">ì—†ìŒ</span>
</span></span></code></pre></div><h4 id="spot-instance-node-group-ë¹„ìš©-ì ˆì•½ìš©">Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©)<a hidden class="anchor" aria-hidden="true" href="#spot-instance-node-group-ë¹„ìš©-ì ˆì•½ìš©">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-spot-nodes</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…</span>: 
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">t3.medium</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">t3.large</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">m5.large</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">êµ¬ë§¤ ì˜µì…˜</span>: <span style="color:#ae81ff">Spot Instance</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ìŠ¤ì¼€ì¼ë§</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìµœì†Œ</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìµœëŒ€</span>: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì›í•˜ëŠ” ìš©ëŸ‰</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë ˆì´ë¸”</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">environment</span>: <span style="color:#ae81ff">dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nodegroup</span>: <span style="color:#ae81ff">spot</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">Taints</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">Key</span>: <span style="color:#ae81ff">spot</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Value</span>: <span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Effect</span>: <span style="color:#ae81ff">NoSchedule</span>
</span></span></code></pre></div><h3 id="add-ons-ì„¤ì •">Add-ons ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#add-ons-ì„¤ì •">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">í•„ìˆ˜ Add-ons</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">vpc-cni (ë„¤íŠ¸ì›Œí‚¹)</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">coredns (DNS)</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ)</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì¶”ê°€ Add-ons</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">aws-load-balancer-controller</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ebs-csi-driver</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">cluster-autoscaler</span>
</span></span></code></pre></div><hr>
<h2 id="-ë¦¬ì†ŒìŠ¤-ëª…ëª…-ê·œì¹™">ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™<a hidden class="anchor" aria-hidden="true" href="#-ë¦¬ì†ŒìŠ¤-ëª…ëª…-ê·œì¹™">#</a></h2>
<h3 id="ëª…ëª…-ê·œì¹™-í‘œì¤€">ëª…ëª… ê·œì¹™ í‘œì¤€<a hidden class="anchor" aria-hidden="true" href="#ëª…ëª…-ê·œì¹™-í‘œì¤€">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">í˜•ì‹</span>: {<span style="color:#ae81ff">project}-{resource-type}-{environment}-{optional-suffix}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì˜ˆì‹œ</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">VPC</span>: <span style="color:#ae81ff">openwebui-vpc-dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Subnet</span>: <span style="color:#ae81ff">openwebui-public-subnet-dev-a</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Security Group</span>: <span style="color:#ae81ff">openwebui-eks-sg-dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">EKS Cluster</span>: <span style="color:#ae81ff">openwebui-eks-dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Node Group</span>: <span style="color:#ae81ff">openwebui-primary-nodes-dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Load Balancer</span>: <span style="color:#ae81ff">openwebui-alb-dev</span>
</span></span></code></pre></div><h3 id="íƒœê·¸-ì „ëµ">íƒœê·¸ ì „ëµ<a hidden class="anchor" aria-hidden="true" href="#íƒœê·¸-ì „ëµ">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Project</span>: <span style="color:#ae81ff">openwebui</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Environment</span>: <span style="color:#ae81ff">dev</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Owner</span>: <span style="color:#ae81ff">team-name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ManagedBy</span>: <span style="color:#ae81ff">terraform</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">EKS Cluster</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kubernetes.io/cluster/openwebui-eks-dev</span>: <span style="color:#ae81ff">owned</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Subnet</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kubernetes.io/role/elb</span>: <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">(public subnet)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kubernetes.io/role/internal-elb</span>: <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">(private subnet)</span>
</span></span></code></pre></div><hr>
<h2 id="-ë¹„ìš©-ê³„ì‚°-ë°-ìµœì í™”">ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™”<a hidden class="anchor" aria-hidden="true" href="#-ë¹„ìš©-ê³„ì‚°-ë°-ìµœì í™”">#</a></h2>
<h3 id="ì˜ˆìƒ-ì›”-ë¹„ìš©-ì„œìš¸-ë¦¬ì „-ê¸°ì¤€">ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€)<a hidden class="anchor" aria-hidden="true" href="#ì˜ˆìƒ-ì›”-ë¹„ìš©-ì„œìš¸-ë¦¬ì „-ê¸°ì¤€">#</a></h3>
<h4 id="ê¸°ë³¸-êµ¬ì„±">ê¸°ë³¸ êµ¬ì„±<a hidden class="anchor" aria-hidden="true" href="#ê¸°ë³¸-êµ¬ì„±">#</a></h4>
<table>
  <thead>
      <tr>
          <th>ì„œë¹„ìŠ¤</th>
          <th>ìŠ¤í™</th>
          <th>ì›” ì˜ˆìƒ ë¹„ìš©</th>
          <th>ì„¤ëª…</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>EKS Control Plane</strong></td>
          <td>ê´€ë¦¬í˜• ì„œë¹„ìŠ¤</td>
          <td>$72</td>
          <td>í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš©</td>
      </tr>
      <tr>
          <td><strong>EC2 ì¸ìŠ¤í„´ìŠ¤</strong></td>
          <td>2x t3.medium</td>
          <td>$60</td>
          <td>ì›Œì»¤ ë…¸ë“œ (on-demand)</td>
      </tr>
      <tr>
          <td><strong>EBS ë³¼ë¥¨</strong></td>
          <td>40GB gp3</td>
          <td>$4</td>
          <td>ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€</td>
      </tr>
      <tr>
          <td><strong>NAT Gateway</strong></td>
          <td>2ê°œ AZ</td>
          <td>$64</td>
          <td>ê° AZë‹¹ $32</td>
      </tr>
      <tr>
          <td><strong>Load Balancer</strong></td>
          <td>ALB</td>
          <td>$22</td>
          <td>ê¸°ë³¸ ìš”ê¸ˆ + íŠ¸ë˜í”½</td>
      </tr>
      <tr>
          <td><strong>ë°ì´í„° ì „ì†¡</strong></td>
          <td>ì˜ˆìƒ 10GB</td>
          <td>$1</td>
          <td>ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½</td>
      </tr>
      <tr>
          <td><strong>ê¸°íƒ€ ì„œë¹„ìŠ¤</strong></td>
          <td>ECR, CloudWatch</td>
          <td>$5</td>
          <td>ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥</td>
      </tr>
  </tbody>
</table>
<p><strong>ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228</strong></p>
<h4 id="ë¹„ìš©-ìµœì í™”-êµ¬ì„±">ë¹„ìš© ìµœì í™” êµ¬ì„±<a hidden class="anchor" aria-hidden="true" href="#ë¹„ìš©-ìµœì í™”-êµ¬ì„±">#</a></h4>
<table>
  <thead>
      <tr>
          <th>ì„œë¹„ìŠ¤</th>
          <th>ìµœì í™” ë°©ë²•</th>
          <th>ì ˆì•½ ë¹„ìš©</th>
          <th>ë¹„ê³ </th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>EC2 ì¸ìŠ¤í„´ìŠ¤</strong></td>
          <td>Spot Instance ì‚¬ìš©</td>
          <td>-$42</td>
          <td>70% í• ì¸</td>
      </tr>
      <tr>
          <td><strong>NAT Gateway</strong></td>
          <td>ë‹¨ì¼ AZ ì‚¬ìš©</td>
          <td>-$32</td>
          <td>ê³ ê°€ìš©ì„± ì¼ë¶€ í¬ê¸°</td>
      </tr>
      <tr>
          <td><strong>EBS ë³¼ë¥¨</strong></td>
          <td>gp2 â†’ gp3 ì „í™˜</td>
          <td>-$1</td>
          <td>ì´ë¯¸ ì ìš©ë¨</td>
      </tr>
  </tbody>
</table>
<p><strong>ìµœì í™”ëœ ë¹„ìš©: ì›” $153</strong></p>
<h3 id="ë¹„ìš©-ì•Œë¦¼-ì„¤ì •">ë¹„ìš© ì•Œë¦¼ ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#ë¹„ìš©-ì•Œë¦¼-ì„¤ì •">#</a></h3>
<h4 id="cloudwatch-ì˜ˆì‚°-ì„¤ì •">CloudWatch ì˜ˆì‚° ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#cloudwatch-ì˜ˆì‚°-ì„¤ì •">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì˜ˆì‚° ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-monthly-budget</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì˜ˆì‚° ê¸ˆì•¡</span>: <span style="color:#ae81ff">$200</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì•Œë¦¼ ì„¤ì •</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">80</span><span style="color:#ae81ff">% ë„ë‹¬ ì‹œ ì´ë©”ì¼ ì•Œë¦¼</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">100</span><span style="color:#ae81ff">% ë„ë‹¬ ì‹œ ì´ë©”ì¼ + SMS ì•Œë¦¼</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">120</span><span style="color:#ae81ff">% ì˜ˆìƒ ì‹œ ê¸´ê¸‰ ì•Œë¦¼</span>
</span></span></code></pre></div><h4 id="ë¹„ìš©-íƒœê·¸-ì „ëµ">ë¹„ìš© íƒœê·¸ ì „ëµ<a hidden class="anchor" aria-hidden="true" href="#ë¹„ìš©-íƒœê·¸-ì „ëµ">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ë¹„ìš© ì¶”ì  íƒœê·¸</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">CostCenter</span>: <span style="color:#ae81ff">openwebui-project</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Department</span>: <span style="color:#ae81ff">engineering</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Team</span>: <span style="color:#ae81ff">devops</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Environment</span>: <span style="color:#ae81ff">dev</span>
</span></span></code></pre></div><hr>
<h2 id="-ë°±ì—…-ë°-ì¬í•´-ë³µêµ¬-ê³„íš">ğŸ”„ ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš<a hidden class="anchor" aria-hidden="true" href="#-ë°±ì—…-ë°-ì¬í•´-ë³µêµ¬-ê³„íš">#</a></h2>
<h3 id="ë°±ì—…-ì „ëµ">ë°±ì—… ì „ëµ<a hidden class="anchor" aria-hidden="true" href="#ë°±ì—…-ì „ëµ">#</a></h3>
<h4 id="terraform-state-ë°±ì—…">Terraform State ë°±ì—…<a hidden class="anchor" aria-hidden="true" href="#terraform-state-ë°±ì—…">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">S3 ë²„í‚· ì„¤ì •</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-terraform-state-{random-suffix}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ë²„ì „ ê´€ë¦¬</span>: <span style="color:#ae81ff">í™œì„±í™”</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì•”í˜¸í™”</span>: <span style="color:#ae81ff">AES-256</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìƒëª…ì£¼ê¸° ì •ì±…</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">90ì¼ í›„ IAë¡œ ì „í™˜</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">365ì¼ í›„ Glacierë¡œ ì „í™˜</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#f92672">DynamoDB ë½ í…Œì´ë¸”</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì´ë¦„</span>: <span style="color:#ae81ff">terraform-lock</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Primary Key</span>: <span style="color:#ae81ff">LockID</span>
</span></span></code></pre></div><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ë°ì´í„°-ë°±ì—…">ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë°±ì—…<a hidden class="anchor" aria-hidden="true" href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ë°ì´í„°-ë°±ì—…">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">EBS ìŠ¤ëƒ…ìƒ·</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ìë™ ìŠ¤ëƒ…ìƒ·</span>: <span style="color:#ae81ff">ë§¤ì¼ ì˜¤ì „ 3ì‹œ</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ë³´ì¡´ ê¸°ê°„</span>: <span style="color:#ae81ff">7ì¼</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">RDS ìë™ ë°±ì—…</span>: <span style="color:#ae81ff">í™œì„±í™” (í–¥í›„ ì‚¬ìš© ì‹œ)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ë°±ì—… ë³´ì¡´</span>: <span style="color:#ae81ff">7ì¼</span>
</span></span></code></pre></div><h3 id="ì¬í•´-ë³µêµ¬-ê³„íš">ì¬í•´ ë³µêµ¬ ê³„íš<a hidden class="anchor" aria-hidden="true" href="#ì¬í•´-ë³µêµ¬-ê³„íš">#</a></h3>
<h4 id="rtorpo-ëª©í‘œ">RTO/RPO ëª©í‘œ<a hidden class="anchor" aria-hidden="true" href="#rtorpo-ëª©í‘œ">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">RTO (Recovery Time Objective)</span>: <span style="color:#ae81ff">4ì‹œê°„</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">RPO (Recovery Point Objective)</span>: <span style="color:#ae81ff">1ì‹œê°„</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">1. ë‹¨ì¼ AZ ì¥ì• </span>: <span style="color:#ae81ff">ìë™ ë³µêµ¬ (10ë¶„)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">2. ì „ì²´ í´ëŸ¬ìŠ¤í„° ì¥ì• </span>: <span style="color:#ae81ff">ìˆ˜ë™ ë³µêµ¬ (2ì‹œê°„)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">3. ë¦¬ì „ ì¥ì• </span>: <span style="color:#ae81ff">íƒ€ ë¦¬ì „ ë³µêµ¬ (4ì‹œê°„)</span>
</span></span></code></pre></div><h4 id="ë³µêµ¬-ì ˆì°¨">ë³µêµ¬ ì ˆì°¨<a hidden class="anchor" aria-hidden="true" href="#ë³µêµ¬-ì ˆì°¨">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">1ë‹¨ê³„</span>: <span style="color:#ae81ff">ìƒí™© í‰ê°€</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì¥ì•  ë²”ìœ„ í™•ì¸</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì˜í–¥ë„ í‰ê°€</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë³µêµ¬ ì „ëµ ê²°ì •</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">2ë‹¨ê³„</span>: <span style="color:#ae81ff">ê¸´ê¸‰ ì¡°ì¹˜</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">íŠ¸ë˜í”½ ìš°íšŒ</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì•Œë¦¼ ë°œì†¡</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë¡œê·¸ ìˆ˜ì§‘</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">3ë‹¨ê³„</span>: <span style="color:#ae81ff">ë³µêµ¬ ì‹¤í–‰</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">Terraformìœ¼ë¡œ ì¸í”„ë¼ ì¬ìƒì„±</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë°ì´í„° ë³µêµ¬</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">4ë‹¨ê³„</span>: <span style="color:#ae81ff">ê²€ì¦</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì„±ëŠ¥ í™•ì¸</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ëª¨ë‹ˆí„°ë§ ë³µêµ¬</span>
</span></span></code></pre></div><hr>
<h2 id="-ë³´ì•ˆ-ì„¤ê³„">ğŸ” ë³´ì•ˆ ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#-ë³´ì•ˆ-ì„¤ê³„">#</a></h2>
<h3 id="iam-ê¶Œí•œ-ì„¤ê³„">IAM ê¶Œí•œ ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#iam-ê¶Œí•œ-ì„¤ê³„">#</a></h3>
<h4 id="eks-service-role">EKS Service Role<a hidden class="anchor" aria-hidden="true" href="#eks-service-role">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì—­í•  ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-eks-service-role</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì •ì±…</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">AmazonEKSClusterPolicy</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì‹ ë¢° ê´€ê³„</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">eks.amazonaws.com</span>
</span></span></code></pre></div><h4 id="node-group-instance-role">Node Group Instance Role<a hidden class="anchor" aria-hidden="true" href="#node-group-instance-role">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì—­í•  ì´ë¦„</span>: <span style="color:#ae81ff">openwebui-eks-nodegroup-role</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì •ì±…</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">AmazonEKSWorkerNodePolicy</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">AmazonEKS_CNI_Policy</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">AmazonEC2ContainerRegistryReadOnly</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ì‹ ë¢° ê´€ê³„</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ec2.amazonaws.com</span>
</span></span></code></pre></div><h4 id="ìµœì†Œ-ê¶Œí•œ-ì›ì¹™">ìµœì†Œ ê¶Œí•œ ì›ì¹™<a hidden class="anchor" aria-hidden="true" href="#ìµœì†Œ-ê¶Œí•œ-ì›ì¹™">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ê°œë°œì ê¶Œí•œ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">EKS í´ëŸ¬ìŠ¤í„° ì½ê¸° ì „ìš©</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ECR í‘¸ì‹œ/í’€</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">CloudWatch ë¡œê·¸ ì½ê¸°</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ìš´ì˜ì ê¶Œí•œ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">EKS í´ëŸ¬ìŠ¤í„° ì „ì²´ ê´€ë¦¬</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">EC2 ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì ‘ê·¼</span>
</span></span></code></pre></div><h3 id="ë„¤íŠ¸ì›Œí¬-ë³´ì•ˆ">ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ<a hidden class="anchor" aria-hidden="true" href="#ë„¤íŠ¸ì›Œí¬-ë³´ì•ˆ">#</a></h3>
<h4 id="ë„¤íŠ¸ì›Œí¬-acl">ë„¤íŠ¸ì›Œí¬ ACL<a hidden class="anchor" aria-hidden="true" href="#ë„¤íŠ¸ì›Œí¬-acl">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">Public Subnet ACL</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Inbound</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">HTTP/HTTPS (80, 443) from 0.0.0.0/0</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">SSH (22) from ê´€ë¦¬ì IP</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Outbound</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">All traffic to 0.0.0.0/0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Private Subnet ACL</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Inbound</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">All traffic from VPC CIDR</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Outbound</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">All traffic to 0.0.0.0/0</span>
</span></span></code></pre></div><h4 id="vpc-flow-logs">VPC Flow Logs<a hidden class="anchor" aria-hidden="true" href="#vpc-flow-logs">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì„¤ì •</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ëŒ€ìƒ</span>: <span style="color:#ae81ff">CloudWatch Logs</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">íŠ¸ë˜í”½ íƒ€ì…</span>: <span style="color:#ae81ff">ALL</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì§‘ê³„ ê°„ê²©</span>: <span style="color:#ae81ff">1ë¶„</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë¡œê·¸ ê·¸ë£¹</span>: <span style="color:#ae81ff">/aws/vpc/flowlogs</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë³´ì¡´ ê¸°ê°„</span>: <span style="color:#ae81ff">30ì¼</span>
</span></span></code></pre></div><hr>
<h2 id="-ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…-ì„¤ê³„">ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì„¤ê³„<a hidden class="anchor" aria-hidden="true" href="#-ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…-ì„¤ê³„">#</a></h2>
<h3 id="cloudwatch-ì„¤ì •">CloudWatch ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#cloudwatch-ì„¤ì •">#</a></h3>
<h4 id="ë©”íŠ¸ë¦­-ìˆ˜ì§‘">ë©”íŠ¸ë¦­ ìˆ˜ì§‘<a hidden class="anchor" aria-hidden="true" href="#ë©”íŠ¸ë¦­-ìˆ˜ì§‘">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">EKS ë©”íŠ¸ë¦­</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">í´ëŸ¬ìŠ¤í„° ìƒíƒœ</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ </span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">íŒŒë“œ ìƒíƒœ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">EC2 ë©”íŠ¸ë¦­</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">CPU, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë””ìŠ¤í¬ ì‚¬ìš©ë¥ </span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì‹œìŠ¤í…œ ë¡œë“œ</span>
</span></span></code></pre></div><h4 id="ë¡œê·¸-ìˆ˜ì§‘">ë¡œê·¸ ìˆ˜ì§‘<a hidden class="anchor" aria-hidden="true" href="#ë¡œê·¸-ìˆ˜ì§‘">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ë¡œê·¸ ê·¸ë£¹</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">/aws/eks/openwebui-eks-dev/cluster</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">/aws/ec2/openwebui</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">/aws/application/openwebui</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë³´ì¡´ ê¸°ê°„</span>: <span style="color:#ae81ff">30ì¼</span>
</span></span></code></pre></div><h3 id="ì•Œë¦¼-ì„¤ì •">ì•Œë¦¼ ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#ì•Œë¦¼-ì„¤ì •">#</a></h3>
<h4 id="cloudwatch-ì•ŒëŒ">CloudWatch ì•ŒëŒ<a hidden class="anchor" aria-hidden="true" href="#cloudwatch-ì•ŒëŒ">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">CPU ì‚¬ìš©ë¥ </span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì„ê³„ê°’</span>: <span style="color:#ae81ff">80</span><span style="color:#ae81ff">%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">í‰ê°€ ê¸°ê°„</span>: <span style="color:#ae81ff">5ë¶„</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì•Œë¦¼</span>: <span style="color:#ae81ff">SNS Topic</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ </span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì„ê³„ê°’</span>: <span style="color:#ae81ff">85</span><span style="color:#ae81ff">%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">í‰ê°€ ê¸°ê°„</span>: <span style="color:#ae81ff">5ë¶„</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì•Œë¦¼</span>: <span style="color:#ae81ff">SNS Topic</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">íŒŒë“œ ì‹¤íŒ¨</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì„ê³„ê°’</span>: <span style="color:#ae81ff">1ê°œ ì´ìƒ</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">í‰ê°€ ê¸°ê°„</span>: <span style="color:#ae81ff">1ë¶„</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ì•Œë¦¼</span>: <span style="color:#ae81ff">SNS Topic + Slack</span>
</span></span></code></pre></div><hr>
<h2 id="-ì„¤ê³„-ê²€ì¦-ì²´í¬ë¦¬ìŠ¤íŠ¸">âœ… ì„¤ê³„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸<a hidden class="anchor" aria-hidden="true" href="#-ì„¤ê³„-ê²€ì¦-ì²´í¬ë¦¬ìŠ¤íŠ¸">#</a></h2>
<h3 id="ë„¤íŠ¸ì›Œí¬-ì„¤ê³„-ê²€ì¦">ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ ê²€ì¦<a hidden class="anchor" aria-hidden="true" href="#ë„¤íŠ¸ì›Œí¬-ì„¤ê³„-ê²€ì¦">#</a></h3>
<ul>
<li><input disabled="" type="checkbox"> VPC CIDRê°€ ë‹¤ë¥¸ VPCì™€ ê²¹ì¹˜ì§€ ì•ŠëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ì„œë¸Œë„·ì´ ì ì ˆíˆ ë¶„í• ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> NAT Gatewayê°€ ê° AZì— ë°°ì¹˜ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ë¼ìš°íŒ… í…Œì´ë¸”ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
</ul>
<h3 id="ë³´ì•ˆ-ì„¤ê³„-ê²€ì¦">ë³´ì•ˆ ì„¤ê³„ ê²€ì¦<a hidden class="anchor" aria-hidden="true" href="#ë³´ì•ˆ-ì„¤ê³„-ê²€ì¦">#</a></h3>
<ul>
<li><input disabled="" type="checkbox"> ë³´ì•ˆ ê·¸ë£¹ì´ ìµœì†Œ ê¶Œí•œìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> IAM ì—­í• ì´ ì ì ˆíˆ ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ì— ì§ì ‘ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ë¡œê·¸ì™€ ëª¨ë‹ˆí„°ë§ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
</ul>
<h3 id="ê³ ê°€ìš©ì„±-ê²€ì¦">ê³ ê°€ìš©ì„± ê²€ì¦<a hidden class="anchor" aria-hidden="true" href="#ê³ ê°€ìš©ì„±-ê²€ì¦">#</a></h3>
<ul>
<li><input disabled="" type="checkbox"> ë¦¬ì†ŒìŠ¤ê°€ ë‹¤ì¤‘ AZì— ë¶„ì‚°ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ìë™ ìŠ¤ì¼€ì¼ë§ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ë°±ì—… ì „ëµì´ ìˆ˜ë¦½ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ì¥ì•  ë³µêµ¬ ì ˆì°¨ê°€ ë¬¸ì„œí™”ë˜ì–´ ìˆëŠ”ê°€?</li>
</ul>
<h3 id="ë¹„ìš©-ìµœì í™”-ê²€ì¦">ë¹„ìš© ìµœì í™” ê²€ì¦<a hidden class="anchor" aria-hidden="true" href="#ë¹„ìš©-ìµœì í™”-ê²€ì¦">#</a></h3>
<ul>
<li><input disabled="" type="checkbox"> ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ê°€ ì œê±°ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> Spot ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©ì„ ê³ ë ¤í–ˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ë¹„ìš© ì•Œë¦¼ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
<li><input disabled="" type="checkbox"> ë¦¬ì†ŒìŠ¤ íƒœê·¸ê°€ ì ì ˆíˆ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?</li>
</ul>
<hr>
<h2 id="-ì£¼ì˜ì‚¬í•­-ë°-ì œí•œì‚¬í•­">ğŸš¨ ì£¼ì˜ì‚¬í•­ ë° ì œí•œì‚¬í•­<a hidden class="anchor" aria-hidden="true" href="#-ì£¼ì˜ì‚¬í•­-ë°-ì œí•œì‚¬í•­">#</a></h2>
<h3 id="ê°œë°œ-í™˜ê²½-ì œí•œì‚¬í•­">ê°œë°œ í™˜ê²½ ì œí•œì‚¬í•­<a hidden class="anchor" aria-hidden="true" href="#ê°œë°œ-í™˜ê²½-ì œí•œì‚¬í•­">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">ì¸ìŠ¤í„´ìŠ¤ ì œí•œ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ìµœëŒ€ 10ê°œ EC2 ì¸ìŠ¤í„´ìŠ¤</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">í”„ë¦¬í‹°ì–´ í˜œíƒ í™œìš©</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë„¤íŠ¸ì›Œí¬ ì œí•œ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë‹¨ì¼ ë¦¬ì „ ì‚¬ìš©</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ìµœì†Œí•œì˜ NAT Gateway</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ìŠ¤í† ë¦¬ì§€ ì œí•œ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ê¸°ë³¸ EBS ë³¼ë¥¨ë§Œ ì‚¬ìš©</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë°±ì—… ë³´ì¡´ ê¸°ê°„ ë‹¨ì¶•</span>
</span></span></code></pre></div><h3 id="ìš´ì˜-í™˜ê²½-ê³ ë ¤ì‚¬í•­">ìš´ì˜ í™˜ê²½ ê³ ë ¤ì‚¬í•­<a hidden class="anchor" aria-hidden="true" href="#ìš´ì˜-í™˜ê²½-ê³ ë ¤ì‚¬í•­">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">í™•ì¥ì„±</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">Auto Scaling ê·¸ë£¹ ì„¤ì •</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ë¡œë“œ ë°¸ëŸ°ì„œ í™•ì¥ ì¤€ë¹„</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ë³´ì•ˆ</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">WAF ì„¤ì • ê³ ë ¤</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">VPN ì—°ê²° ê³ ë ¤</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">ëª¨ë‹ˆí„°ë§</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ìƒì„¸ ë©”íŠ¸ë¦­ ìˆ˜ì§‘</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">ì•Œë¦¼ ì±„ë„ í™•ì¥</span>
</span></span></code></pre></div><hr>
<h2 id="-ì°¸ê³ -ìë£Œ">ğŸ“š ì°¸ê³  ìë£Œ<a hidden class="anchor" aria-hidden="true" href="#-ì°¸ê³ -ìë£Œ">#</a></h2>
<ul>
<li><a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Scenario2.html">AWS VPC ì„¤ê³„ ëª¨ë²” ì‚¬ë¡€</a></li>
<li><a href="https://docs.aws.amazon.com/eks/latest/userguide/sec-group-reqs.html">Amazon EKS ë³´ì•ˆ ê·¸ë£¹</a></li>
<li><a href="https://docs.aws.amazon.com/eks/latest/userguide/network_reqs.html">EKS ë„¤íŠ¸ì›Œí‚¹</a></li>
<li><a href="https://aws.amazon.com/aws-cost-management/">AWS ë¹„ìš© ìµœì í™”</a></li>
</ul>
<hr>
<h2 id="-ë‹¤ìŒ-ë‹¨ê³„">â­ï¸ ë‹¤ìŒ ë‹¨ê³„<a hidden class="anchor" aria-hidden="true" href="#-ë‹¤ìŒ-ë‹¨ê³„">#</a></h2>
<p>í™˜ê²½ ì„¤ê³„ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ë‹¤ìŒ ë¬¸ì„œë¡œ ì§„í–‰í•˜ì„¸ìš”:</p>
<ul>
<li><strong>[03-terraform-configuration.md]</strong> - Terraformìœ¼ë¡œ ì¸í”„ë¼ êµ¬í˜„</li>
<li><strong>[04-eks-deployment.md]</strong> - EKS í´ëŸ¬ìŠ¤í„° ë°°í¬</li>
<li><strong>[05-application-deployment.md]</strong> - ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬</li>
</ul>
<hr>
<blockquote>
<p><strong>ğŸ’¡ íŒ</strong>: ì´ ì„¤ê³„ ë¬¸ì„œëŠ” ì‹¤ì œ êµ¬í˜„ ì „ì— íŒ€ì›ë“¤ê³¼ ê²€í† í•˜ê³  ìŠ¹ì¸ë°›ìœ¼ì„¸ìš”. í•œ ë²ˆ ë°°í¬ëœ í›„ì—ëŠ” ë³€ê²½ì´ ì–´ë ¤ìš´ ë¶€ë¶„ë“¤ì´ ìˆìŠµë‹ˆë‹¤!</p></blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="next" href="https://8dobibim.github.io/backend/ci_cd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EA%B0%80%EC%9D%B4%EB%93%9C%EB%9D%BC%EC%9D%B8/">
    <span class="title">Next Â»</span>
    <br>
    <span></span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://8dobibim.github.io/">8dobibim Tech Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
