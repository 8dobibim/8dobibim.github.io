<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Backend ë¬¸ì„œ | 8dobibim Tech Blog</title>
<meta name="keywords" content="">
<meta name="description" content="ğŸ“˜ 8dobibim ìš´ì˜ ë° ë°°í¬ ê°€ì´ë“œ
ì´ ë¬¸ì„œëŠ” OpenWebUI ë° LiteLLM ê¸°ë°˜ìœ¼ë¡œ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ê³ ,
API í”„ë¡ì‹œ í™˜ê²½ êµ¬ì¶•, ì¸í”„ë¼ ìë™í™”, CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •, ìš´ì˜ íš¨ìœ¨í™” ë“±ì„ ë‹¤ë£¬ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ê° ì„¹ì…˜ì„ í†µí•´ í”„ë¡œì íŠ¸ì˜ ë°©í–¥ì„±ê³¼ ì‘ì—… ë‚´ìš©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìœ¼ë©°, í•˜ë‹¨ì˜ ë¬¸ì„œ ë§í¬ë¥¼ í†µí•´ ì„¸ë¶€ ì‘ì—… ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ“‹ ì‚¬ì „ ì¤€ë¹„

ğŸ§¾ ì‚¬ì „ì¤€ë¹„ì‚¬í•­
ğŸŒ AWS í™˜ê²½ ì„¤ì •

âš™ï¸ ì¸í”„ë¼ ì„¤ì •

ğŸ“ Terraform ì„¤ì •
â˜¸ï¸ EKS í´ëŸ¬ìŠ¤í„° ë°°í¬ ê°€ì´ë“œ

ğŸ” CI/CD ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬

ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸ ê°€ì´ë“œë¼ì¸
ğŸ“¦ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê°€ì´ë“œ

âœ… ë°°í¬ ê²€ì¦ ë° ìš´ì˜

ğŸ§ª ë°°í¬ ê²€ì¦ ê°€ì´ë“œ
ğŸ–¥ï¸ ìš´ì˜ ë§¤ë‰´ì–¼

ğŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

ğŸ§¯ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ &amp; FAQ
">
<meta name="author" content="">
<link rel="canonical" href="https://8dobibim.github.io/backend/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="https://8dobibim.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://8dobibim.github.io/backend/index.xml">
<link rel="alternate" hreflang="en" href="https://8dobibim.github.io/backend/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://8dobibim.github.io/backend/">
  <meta property="og:site_name" content="8dobibim Tech Blog">
  <meta property="og:title" content="Backend ë¬¸ì„œ">
  <meta property="og:description" content="ğŸ“˜ 8dobibim ìš´ì˜ ë° ë°°í¬ ê°€ì´ë“œ ì´ ë¬¸ì„œëŠ” OpenWebUI ë° LiteLLM ê¸°ë°˜ìœ¼ë¡œ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ê³ ,
API í”„ë¡ì‹œ í™˜ê²½ êµ¬ì¶•, ì¸í”„ë¼ ìë™í™”, CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •, ìš´ì˜ íš¨ìœ¨í™” ë“±ì„ ë‹¤ë£¬ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ê° ì„¹ì…˜ì„ í†µí•´ í”„ë¡œì íŠ¸ì˜ ë°©í–¥ì„±ê³¼ ì‘ì—… ë‚´ìš©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìœ¼ë©°, í•˜ë‹¨ì˜ ë¬¸ì„œ ë§í¬ë¥¼ í†µí•´ ì„¸ë¶€ ì‘ì—… ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ğŸ“‹ ì‚¬ì „ ì¤€ë¹„ ğŸ§¾ ì‚¬ì „ì¤€ë¹„ì‚¬í•­ ğŸŒ AWS í™˜ê²½ ì„¤ì • âš™ï¸ ì¸í”„ë¼ ì„¤ì • ğŸ“ Terraform ì„¤ì • â˜¸ï¸ EKS í´ëŸ¬ìŠ¤í„° ë°°í¬ ê°€ì´ë“œ ğŸ” CI/CD ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸ ê°€ì´ë“œë¼ì¸ ğŸ“¦ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê°€ì´ë“œ âœ… ë°°í¬ ê²€ì¦ ë° ìš´ì˜ ğŸ§ª ë°°í¬ ê²€ì¦ ê°€ì´ë“œ ğŸ–¥ï¸ ìš´ì˜ ë§¤ë‰´ì–¼ ğŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ğŸ§¯ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ &amp; FAQ ">
  <meta property="og:locale" content="ko">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Backend ë¬¸ì„œ">
<meta name="twitter:description" content="">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Backend ë¬¸ì„œ",
      "item": "https://8dobibim.github.io/backend/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://8dobibim.github.io/" accesskey="h" title="8dobibim Tech Blog (Alt + H)">8dobibim Tech Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://8dobibim.github.io/frontend/" title="ğŸ–¥ í”„ë¡ íŠ¸ì—”ë“œ">
                    <span>ğŸ–¥ í”„ë¡ íŠ¸ì—”ë“œ</span>
                </a>
            </li>
            <li>
                <a href="https://8dobibim.github.io/backend/" title="ğŸ’¾ ë°±ì—”ë“œ">
                    <span class="active">ğŸ’¾ ë°±ì—”ë“œ</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://8dobibim.github.io/">Home</a></div>
  <h1>
    Backend ë¬¸ì„œ
  </h1>
</header>
<div class="post-content"><h1 id="-8dobibim-ìš´ì˜-ë°-ë°°í¬-ê°€ì´ë“œ">ğŸ“˜ 8dobibim ìš´ì˜ ë° ë°°í¬ ê°€ì´ë“œ<a hidden class="anchor" aria-hidden="true" href="#-8dobibim-ìš´ì˜-ë°-ë°°í¬-ê°€ì´ë“œ">#</a></h1>
<p>ì´ ë¬¸ì„œëŠ” <code>OpenWebUI</code> ë° <code>LiteLLM</code> ê¸°ë°˜ìœ¼ë¡œ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ê³ ,<br>
<strong>API í”„ë¡ì‹œ í™˜ê²½ êµ¬ì¶•</strong>, <strong>ì¸í”„ë¼ ìë™í™”</strong>, <strong>CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •</strong>, <strong>ìš´ì˜ íš¨ìœ¨í™”</strong> ë“±ì„ ë‹¤ë£¬ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<p>ê° ì„¹ì…˜ì„ í†µí•´ í”„ë¡œì íŠ¸ì˜ ë°©í–¥ì„±ê³¼ ì‘ì—… ë‚´ìš©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìœ¼ë©°, í•˜ë‹¨ì˜ ë¬¸ì„œ ë§í¬ë¥¼ í†µí•´ ì„¸ë¶€ ì‘ì—… ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<hr>
<h3 id="-ì‚¬ì „-ì¤€ë¹„">ğŸ“‹ ì‚¬ì „ ì¤€ë¹„<a hidden class="anchor" aria-hidden="true" href="#-ì‚¬ì „-ì¤€ë¹„">#</a></h3>
<ul>
<li><a href="/backend/%EC%82%AC%EC%A0%84%EC%A4%80%EB%B9%84%EC%82%AC%ED%95%AD">ğŸ§¾ ì‚¬ì „ì¤€ë¹„ì‚¬í•­</a></li>
<li><a href="/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95">ğŸŒ AWS í™˜ê²½ ì„¤ì •</a></li>
</ul>
<h3 id="-ì¸í”„ë¼-ì„¤ì •">âš™ï¸ ì¸í”„ë¼ ì„¤ì •<a hidden class="anchor" aria-hidden="true" href="#-ì¸í”„ë¼-ì„¤ì •">#</a></h3>
<ul>
<li><a href="/backend/terraform-%EC%84%A4%EC%A0%95">ğŸ“ Terraform ì„¤ì •</a></li>
<li><a href="/backend/eks-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%B0%B0%ED%8F%AC-%EA%B0%80%EC%9D%B4%EB%93%9C">â˜¸ï¸ EKS í´ëŸ¬ìŠ¤í„° ë°°í¬ ê°€ì´ë“œ</a></li>
</ul>
<h3 id="-cicd-ë°-ì• í”Œë¦¬ì¼€ì´ì…˜-ë°°í¬">ğŸ” CI/CD ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬<a hidden class="anchor" aria-hidden="true" href="#-cicd-ë°-ì• í”Œë¦¬ì¼€ì´ì…˜-ë°°í¬">#</a></h3>
<ul>
<li><a href="/backend/ci_cd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EA%B0%80%EC%9D%B4%EB%93%9C%EB%9D%BC%EC%9D%B8">ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸ ê°€ì´ë“œë¼ì¸</a></li>
<li><a href="/backend/%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%20%EB%B0%B0%ED%8F%AC%20%EA%B0%80%EC%9D%B4%EB%93%9C">ğŸ“¦ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê°€ì´ë“œ</a></li>
</ul>
<h3 id="-ë°°í¬-ê²€ì¦-ë°-ìš´ì˜">âœ… ë°°í¬ ê²€ì¦ ë° ìš´ì˜<a hidden class="anchor" aria-hidden="true" href="#-ë°°í¬-ê²€ì¦-ë°-ìš´ì˜">#</a></h3>
<ul>
<li><a href="/backend/%EB%B0%B0%ED%8F%AC-%EA%B2%80%EC%A6%9D-%EA%B0%80%EC%9D%B4%EB%93%9C">ğŸ§ª ë°°í¬ ê²€ì¦ ê°€ì´ë“œ</a></li>
<li><a href="/backend/%EC%9A%B4%EC%98%81-%EB%A7%A4%EB%89%B4%EC%96%BC">ğŸ–¥ï¸ ìš´ì˜ ë§¤ë‰´ì–¼</a></li>
</ul>
<h3 id="-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…">ğŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…<a hidden class="anchor" aria-hidden="true" href="#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…">#</a></h3>
<ul>
<li><a href="/backend/%ED%8A%B8%EB%9F%AC%EB%B8%94%EC%8A%88%ED%8C%85-%EA%B0%80%EC%9D%B4%EB%93%9C--faq">ğŸ§¯ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ &amp; FAQ</a></li>
</ul>


</div>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸ—ï¸ AWS í™˜ê²½ ì„¤ì • ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 30-45ë¶„ (ì„¤ê³„ ë° ê³„íš)
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: OpenWebUI ë°°í¬ë¥¼ ìœ„í•œ AWS ì¸í”„ë¼ ì„¤ê³„ ë° êµ¬ì„± ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.
ğŸ“‹ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ì •ì˜ ë³´ì•ˆ ê·¸ë£¹ ê³„íš ìˆ˜ë¦½ EKS í´ëŸ¬ìŠ¤í„° êµ¬ì„± ê³„íš ë¹„ìš© ê³„ì‚° ë° ì˜ˆì‚° ì„¤ì • ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš” ì‹œìŠ¤í…œ êµ¬ì„±ë„ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ AWS Cloud â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ â”‚ VPC (10.0.0.0/16) â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ Public Subnet A â”‚ â”‚ Public Subnet B â”‚â”‚â”‚â”‚ â”‚ â”‚ (10.0.1.0/24) â”‚ â”‚ (10.0.2.0/24) â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ NAT Gateway A â”‚â”‚ â”‚ â”‚ NAT Gateway B â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ Internet Gatewayâ”‚â”‚ â”‚ â”‚ Load Balancer â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ Private Subnet A â”‚ â”‚ Private Subnet B â”‚â”‚â”‚â”‚ â”‚ â”‚ (10.0.10.0/24) â”‚ â”‚ (10.0.20.0/24) â”‚â”‚â”‚â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ EKS Node Group Aâ”‚â”‚ â”‚ â”‚ EKS Node Group B â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ OpenWebUI Pods â”‚â”‚ â”‚ â”‚ LiteLLM Pods â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â”‚ Monitoring Pods â”‚â”‚ â”‚ â”‚ Database Pods â”‚â”‚â”‚â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â”‚ â”‚â”‚â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ â”‚ â”‚ EKS Control Plane â”‚â”‚â”‚ â”‚ â”‚ (AWS Managed) â”‚â”‚â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ì™¸ë¶€ ì—°ê²°:- ECR (ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ì†Œ)- S3 (Terraform State, ë°±ì—…)- DynamoDB (Terraform Lock)- CloudWatch (ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§) ì£¼ìš” êµ¬ì„± ìš”ì†Œ ì„¤ëª… êµ¬ì„± ìš”ì†Œ ëª©ì  ìœ„ì¹˜ VPC ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ap-northeast-2 Public Subnet ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œë°¸ëŸ°ì„œ 2ê°œ AZ Private Subnet EKS ì›Œì»¤ ë…¸ë“œ, ì• í”Œë¦¬ì¼€ì´ì…˜ 2ê°œ AZ EKS Cluster Kubernetes ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ Multi-AZ Node Groups EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ Private Subnet ALB ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ Public Subnet ğŸŒ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ VPC ë° ì„œë¸Œë„· êµ¬ì„± ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì • VPC ì„¤ì •: CIDR: 10.0.0.0/16 Region: ap-northeast-2 (ì„œìš¸) DNS Resolution: Enabled DNS Hostnames: Enabled ê°€ìš© ì˜ì—­: - ap-northeast-2a - ap-northeast-2c ì„œë¸Œë„· ì„¤ê³„ Public Subnets: Public-A: CIDR: 10.0.1.0/24 AZ: ap-northeast-2a ìš©ë„: NAT Gateway, Load Balancer Public-B: CIDR: 10.0.2.0/24 AZ: ap-northeast-2c ìš©ë„: NAT Gateway, Load Balancer Private Subnets: Private-A: CIDR: 10.0.10.0/24 AZ: ap-northeast-2a ìš©ë„: EKS Worker Nodes Private-B: CIDR: 10.0.20.0/24 AZ: ap-northeast-2c ìš©ë„: EKS Worker Nodes ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ê³„ Public Route Table ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: Internet Gateway ì—°ê²°ëœ ì„œë¸Œë„·: - Public Subnet A - Public Subnet B Private Route Tables Private Route Table A: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway A ì—°ê²° ì„œë¸Œë„·: Private Subnet A Private Route Table B: ëŒ€ìƒ: 0.0.0.0/0 ê²Œì´íŠ¸ì›¨ì´: NAT Gateway B ì—°ê²° ì„œë¸Œë„·: Private Subnet B ğŸ”’ ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„ EKS í´ëŸ¬ìŠ¤í„° ë³´ì•ˆ ê·¸ë£¹ Control Plane Security Group ì´ë¦„: openwebui-eks-control-plane-sg ì„¤ëª…: EKS Control Plane ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTPS Port: 443 Source: Worker Node Security Group ì„¤ëª…: Worker ë…¸ë“œì—ì„œ API ì„œë²„ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Worker Node Security Group ì´ë¦„: openwebui-eks-worker-sg ì„¤ëª…: EKS Worker Node ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: All Traffic Port: All Source: Same Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œê°„ í†µì‹  - Type: Custom TCP Port: 1025-65535 Source: Control Plane Security Group ì„¤ëª…: Control Planeì—ì„œ kubelet í†µì‹  - Type: HTTP Port: 80 Source: ALB Security Group ì„¤ëª…: ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ - Type: Custom TCP Port: 30000-32767 Source: ALB Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ Outbound Rules: - Type: All Traffic Port: All Destination: 0.0.0.0/0 ì„¤ëª…: ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ í—ˆìš© Application Load Balancer Security Group ì´ë¦„: openwebui-alb-sg ì„¤ëª…: ALB ë³´ì•ˆ ê·¸ë£¹ Inbound Rules: - Type: HTTP Port: 80 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTP ì ‘ê·¼ - Type: HTTPS Port: 443 Source: 0.0.0.0/0 ì„¤ëª…: ì¸í„°ë„·ì—ì„œ HTTPS ì ‘ê·¼ Outbound Rules: - Type: Custom TCP Port: 80 Destination: Worker Node Security Group ì„¤ëª…: ì›Œì»¤ ë…¸ë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ - Type: Custom TCP Port: 30000-32767 Destination: Worker Node Security Group ì„¤ëª…: NodePort ì„œë¹„ìŠ¤ ì ‘ê·¼ âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ì„¤ê³„ í´ëŸ¬ìŠ¤í„° ê¸°ë³¸ ì„¤ì • í´ëŸ¬ìŠ¤í„° ì„¤ì •: ì´ë¦„: openwebui-eks-dev ë²„ì „: 1.28 ì—”ë“œí¬ì¸íŠ¸ ì•¡ì„¸ìŠ¤: Public: true Private: true ë¡œê¹…: - api - audit - authenticator - controllerManager - scheduler Node Group ì„¤ê³„ Primary Node Group ì´ë¦„: openwebui-primary-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: t3.medium ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 2 ìµœëŒ€: 4 ì›í•˜ëŠ” ìš©ëŸ‰: 2 ë””ìŠ¤í¬: í¬ê¸°: 20GB íƒ€ì…: gp3 ë ˆì´ë¸”: environment: dev nodegroup: primary Taints: ì—†ìŒ Spot Instance Node Group (ë¹„ìš© ì ˆì•½ìš©) ì´ë¦„: openwebui-spot-nodes ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…: - t3.medium - t3.large - m5.large êµ¬ë§¤ ì˜µì…˜: Spot Instance ìŠ¤ì¼€ì¼ë§: ìµœì†Œ: 0 ìµœëŒ€: 3 ì›í•˜ëŠ” ìš©ëŸ‰: 1 ë ˆì´ë¸”: environment: dev nodegroup: spot Taints: - Key: spot Value: &#34;true&#34; Effect: NoSchedule Add-ons ì„¤ì • í•„ìˆ˜ Add-ons: - vpc-cni (ë„¤íŠ¸ì›Œí‚¹) - coredns (DNS) - kube-proxy (ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ) ì¶”ê°€ Add-ons: - aws-load-balancer-controller - ebs-csi-driver - cluster-autoscaler ğŸ·ï¸ ë¦¬ì†ŒìŠ¤ ëª…ëª… ê·œì¹™ ëª…ëª… ê·œì¹™ í‘œì¤€ í˜•ì‹: {project}-{resource-type}-{environment}-{optional-suffix} ì˜ˆì‹œ: VPC: openwebui-vpc-dev Subnet: openwebui-public-subnet-dev-a Security Group: openwebui-eks-sg-dev EKS Cluster: openwebui-eks-dev Node Group: openwebui-primary-nodes-dev Load Balancer: openwebui-alb-dev íƒœê·¸ ì „ëµ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê³µí†µ íƒœê·¸: Project: openwebui Environment: dev Owner: team-name ManagedBy: terraform ë¦¬ì†ŒìŠ¤ë³„ ì¶”ê°€ íƒœê·¸: EKS Cluster: kubernetes.io/cluster/openwebui-eks-dev: owned Subnet: kubernetes.io/role/elb: 1 (public subnet) kubernetes.io/role/internal-elb: 1 (private subnet) ğŸ’° ë¹„ìš© ê³„ì‚° ë° ìµœì í™” ì˜ˆìƒ ì›” ë¹„ìš© (ì„œìš¸ ë¦¬ì „ ê¸°ì¤€) ê¸°ë³¸ êµ¬ì„± ì„œë¹„ìŠ¤ ìŠ¤í™ ì›” ì˜ˆìƒ ë¹„ìš© ì„¤ëª… EKS Control Plane ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ $72 í´ëŸ¬ìŠ¤í„°ë‹¹ ê³ ì • ë¹„ìš© EC2 ì¸ìŠ¤í„´ìŠ¤ 2x t3.medium $60 ì›Œì»¤ ë…¸ë“œ (on-demand) EBS ë³¼ë¥¨ 40GB gp3 $4 ì›Œì»¤ ë…¸ë“œ ìŠ¤í† ë¦¬ì§€ NAT Gateway 2ê°œ AZ $64 ê° AZë‹¹ $32 Load Balancer ALB $22 ê¸°ë³¸ ìš”ê¸ˆ &#43; íŠ¸ë˜í”½ ë°ì´í„° ì „ì†¡ ì˜ˆìƒ 10GB $1 ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ ê¸°íƒ€ ì„œë¹„ìŠ¤ ECR, CloudWatch $5 ë¡œê·¸, ì´ë¯¸ì§€ ì €ì¥ ì´ ì˜ˆìƒ ë¹„ìš©: ì›” $228
...</p>
  </div>
  <footer class="entry-footer">8 min&nbsp;Â·&nbsp;1606 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/aws-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸš€ AWS EKS CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 45-60ë¶„
ğŸ’¡ ë‚œì´ë„: ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: GitHub Actionsë¥¼ ì‚¬ìš©í•˜ì—¬ AWS EKSì— OpenWebUI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìë™ ë°°í¬í•˜ëŠ” CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
ğŸ“ ì „ì²´ ì½”ë“œ: GitHubì—ì„œ í™•ì¸í•˜ê¸°
ğŸ“‹ ì „ì²´ êµ¬ì¡° ê°œìš” íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ë³„ íë¦„ 1. GitHub Push íŠ¸ë¦¬ê±°2. AWS ì¸ì¦ ë° í™˜ê²½ ì„¤ì •3. Terraformìœ¼ë¡œ ì¸í”„ë¼ êµ¬ì¶•4. EKS í´ëŸ¬ìŠ¤í„° ì„¤ì •5. í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜6. ArgoCD ì„¤ì¹˜ ë° ì„¤ì •7. ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬8. í—¬ìŠ¤ì²´í¬ ë° ë¡¤ë°± ğŸ” Step 1: GitHub Secrets ë° ê¸°ë³¸ ì„¤ì • í•„ìš”í•œ Secrets ëª©ë¡ # GitHub ë¦¬í¬ì§€í† ë¦¬ â†’ Settings â†’ Secrets and variables â†’ Actions # AWS ì¸ì¦ AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY # API í‚¤ë“¤ GEMINI_API_KEY AZURE_API_KEY AZURE_API_BASE AZURE_API_VERSION # ë°ì´í„°ë² ì´ìŠ¤ POSTGRES_DB POSTGRES_USER POSTGRES_PASSWORD DATABASE_URL # LiteLLM LITELLM_MASTER_KEY LITELLM_SALT_KEY ì›Œí¬í”Œë¡œìš° ê¸°ë³¸ ì„¤ì • name: Deploy to AWS EKS on: push: branches: - main # main ë¸Œëœì¹˜ì— í‘¸ì‹œë  ë•Œë§Œ ì‹¤í–‰ jobs: deploy: runs-on: ubuntu-latest # Ubuntu ìµœì‹  ë²„ì „ ì‚¬ìš© env: # Terraform ì‘ì—… ë””ë ‰í† ë¦¬ TF_WORKING_DIR: ./terraform-related/AWS_terraform_grafana # ArgoCD ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ (admin) ARGOCD_PASSWORD_HASH: $2a$10$8K9jKpK7a9c6xL8zFiZ65uHpYz9ROzAyl3PzGp6u2Fj0CeLccL5tK ğŸ” ì„¤ëª…:
...</p>
  </div>
  <footer class="entry-footer">8 min&nbsp;Â·&nbsp;1584 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/ci_cd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EA%B0%80%EC%9D%B4%EB%93%9C%EB%9D%BC%EC%9D%B8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>âš™ï¸ EKS í´ëŸ¬ìŠ¤í„° ë°°í¬ ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 30-45ë¶„
ğŸ’¡ ë‚œì´ë„: ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: Terraformìœ¼ë¡œ ìƒì„±ëœ EKS í´ëŸ¬ìŠ¤í„°ì— í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤.
ğŸ“‹ ë°°í¬ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ kubectl í´ëŸ¬ìŠ¤í„° ì—°ê²° ì„¤ì • AWS Load Balancer Controller ì„¤ì¹˜ EBS CSI Driver ì„¤ì • Cluster Autoscaler ì„¤ì¹˜ Metrics Server ì„¤ì¹˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„± RBAC ì„¤ì • ğŸ”— 1ë‹¨ê³„: í´ëŸ¬ìŠ¤í„° ì—°ê²° ì„¤ì • kubectl ì„¤ì • # EKS í´ëŸ¬ìŠ¤í„°ì— ì—°ê²° aws eks update-kubeconfig --region ap-northeast-2 --name openwebui-eks-dev # í´ëŸ¬ìŠ¤í„° ì—°ê²° í™•ì¸ kubectl cluster-info kubectl get nodes ì˜ˆìƒ ì¶œë ¥:
...</p>
  </div>
  <footer class="entry-footer">6 min&nbsp;Â·&nbsp;1106 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/eks-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%B0%B0%ED%8F%AC-%EA%B0%80%EC%9D%B4%EB%93%9C/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸ—ï¸ ì‹¤ì œ í”„ë¡œì íŠ¸ ê¸°ë°˜ Terraform êµ¬ì„± ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 60-90ë¶„
ğŸ’¡ ë‚œì´ë„: ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: Terraformì„ ì‚¬ìš©í•˜ì—¬ AWS EKS í´ëŸ¬ìŠ¤í„°ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤íƒ êµ¬ì¶•
ğŸ“ ì „ì²´ ì½”ë“œ: GitHubì—ì„œ í™•ì¸í•˜ê¸°
ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° terraform-related/â””â”€â”€ AWS_terraform_grafana/â”œâ”€â”€ main.tf # ë©”ì¸ ë¦¬ì†ŒìŠ¤ ì •ì˜â”œâ”€â”€ variables.tf # ë³€ìˆ˜ ì„ ì–¸â”œâ”€â”€ versions.tf # í”„ë¡œë°”ì´ë” ë²„ì „â”œâ”€â”€ terraform.tfvars # ë³€ìˆ˜ ê°’ (Git ì œì™¸)â””â”€â”€ tfvars.example # ë³€ìˆ˜ ì˜ˆì‹œ íŒŒì¼ ğŸ”§ Step 1: í”„ë¡œë°”ì´ë” ë° ë²„ì „ ì„¤ì • versions.tf terraform { required_providers { kubernetes = { source = &#34;hashicorp/kubernetes&#34; version = &#34;2.23.0&#34; } aws = { source = &#34;hashicorp/aws&#34; version = &#34;5.45.0&#34; } } } ğŸ” ì„¤ëª…:
...</p>
  </div>
  <footer class="entry-footer">10 min&nbsp;Â·&nbsp;2101 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/terraform-%EC%84%A4%EC%A0%95/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>âœ… ë°°í¬ ê²€ì¦ ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 30-45ë¶„
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰-ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: ë°°í¬ëœ OpenWebUI ì‹œìŠ¤í…œì˜ ì •ìƒ ì‘ë™ì„ ê²€ì¦í•˜ê³  í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
ğŸ“‹ ê²€ì¦ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¸í”„ë¼ ìƒíƒœ í™•ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸ LiteLLM API í…ŒìŠ¤íŠ¸ OpenWebUI ì›¹ ì¸í„°í˜ì´ìŠ¤ í…ŒìŠ¤íŠ¸ ë¡œë“œë°¸ëŸ°ì„œ ë° ë„¤íŠ¸ì›Œí‚¹ í…ŒìŠ¤íŠ¸ ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§ í™•ì¸ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¥ì•  ë³µêµ¬ í…ŒìŠ¤íŠ¸ ğŸ—ï¸ 1ë‹¨ê³„: ì¸í”„ë¼ ìƒíƒœ í™•ì¸ í´ëŸ¬ìŠ¤í„° ì „ì²´ ìƒíƒœ #!/bin/bash # infrastructure-check.sh echo &#34;ğŸ” ì¸í”„ë¼ ìƒíƒœ ê²€ì¦ ì‹œì‘...&#34; echo &#34;ğŸ“‹ 1. í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ìƒíƒœ&#34; kubectl get nodes -o wide echo &#34;ğŸ“‹ 2. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í™•ì¸&#34; kubectl get namespaces echo &#34;ğŸ“‹ 3. ì „ì²´ íŒŒë“œ ìƒíƒœ&#34; kubectl get pods -A -o wide echo &#34;ğŸ“‹ 4. ì„œë¹„ìŠ¤ ìƒíƒœ&#34; kubectl get svc -A echo &#34;ğŸ“‹ 5. Ingress ìƒíƒœ&#34; kubectl get ingress -A echo &#34;ğŸ“‹ 6. PVC ìƒíƒœ&#34; kubectl get pvc -A echo &#34;ğŸ“‹ 7. ì‹œí¬ë¦¿ í™•ì¸&#34; kubectl get secrets -A echo &#34;âœ… ì¸í”„ë¼ ìƒíƒœ í™•ì¸ ì™„ë£Œ&#34; ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸ # ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ kubectl top nodes # íŒŒë“œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ kubectl top pods -A # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ kubectl top pods -n openwebui kubectl top pods -n litellm ğŸ—ƒï¸ 2ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸ PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸ # PostgreSQL íŒŒë“œì— ì§ì ‘ ì ‘ì† kubectl exec -it deployment/postgres -n openwebui -- psql -U openwebui -d openwebui # SQL ëª…ë ¹ì–´ë¡œ í…ŒìŠ¤íŠ¸ \l # ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ \dt # í…Œì´ë¸” ëª©ë¡ SELECT version(); # PostgreSQL ë²„ì „ í™•ì¸ SELECT now(); # í˜„ì¬ ì‹œê°„ \q # ì¢…ë£Œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìŠ¤í¬ë¦½íŠ¸ #!/bin/bash # db-connection-test.sh echo &#34;ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸...&#34; # PostgreSQL íŒŒë“œ ìƒíƒœ í™•ì¸ if ! kubectl get pod -l app=postgres -n openwebui | grep -q &#34;Running&#34;; then echo &#34;âŒ PostgreSQL íŒŒë“œê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤.&#34; exit 1 fi # ì—°ê²° í…ŒìŠ¤íŠ¸ echo &#34;ğŸ“¡ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...&#34; kubectl exec deployment/postgres -n openwebui -- pg_isready -U openwebui if [ $? -eq 0 ]; then echo &#34;âœ… PostgreSQL ì—°ê²° ì„±ê³µ&#34; else echo &#34;âŒ PostgreSQL ì—°ê²° ì‹¤íŒ¨&#34; exit 1 fi # ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸ echo &#34;ğŸ” ê¸°ë³¸ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸...&#34; kubectl exec deployment/postgres -n openwebui -- psql -U openwebui -d openwebui -c &#34;SELECT 1 as test;&#34; echo &#34;âœ… ë°ì´í„°ë² ì´ìŠ¤ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ğŸ¤– 3ë‹¨ê³„: LiteLLM API í…ŒìŠ¤íŠ¸ LiteLLM ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ # LiteLLM íŒŒë“œ ìƒíƒœ kubectl get pods -l app=litellm -n litellm # LiteLLM ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ í™•ì¸ kubectl get endpoints -n litellm # LiteLLM ë¡œê·¸ í™•ì¸ kubectl logs deployment/litellm -n litellm --tail=50 API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ #!/bin/bash # litellm-api-test.sh echo &#34;ğŸ¤– LiteLLM API í…ŒìŠ¤íŠ¸...&#34; # í¬íŠ¸ í¬ì›Œë”© ì„¤ì • kubectl port-forward svc/litellm-service 4000:4000 -n litellm &amp; PORT_FORWARD_PID=$! sleep 5 # Health check echo &#34;ğŸ“¡ í—¬ìŠ¤ì²´í¬ í…ŒìŠ¤íŠ¸...&#34; curl -s http://localhost:4000/health # ëª¨ë¸ ëª©ë¡ í™•ì¸ echo &#34;ğŸ“ ëª¨ë¸ ëª©ë¡ í™•ì¸...&#34; curl -s http://localhost:4000/v1/models | jq &#39;.&#39; # ê°„ë‹¨í•œ ì±„íŒ… ì™„ë£Œ í…ŒìŠ¤íŠ¸ echo &#34;ğŸ’¬ ì±„íŒ… ì™„ë£Œ API í…ŒìŠ¤íŠ¸...&#34; curl -X POST http://localhost:4000/v1/chat/completions \ -H &#34;Content-Type: application/json&#34; \ -H &#34;Authorization: Bearer your-master-key&#34; \ -d &#39;{ &#34;model&#34;: &#34;gpt-3.5-turbo&#34;, &#34;messages&#34;: [{&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Hello, this is a test.&#34;}], &#34;max_tokens&#34;: 50 }&#39; | jq &#39;.&#39; # í¬íŠ¸ í¬ì›Œë”© ì¢…ë£Œ kill $PORT_FORWARD_PID echo &#34;âœ… LiteLLM API í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ğŸŒ 4ë‹¨ê³„: OpenWebUI ì›¹ ì¸í„°í˜ì´ìŠ¤ í…ŒìŠ¤íŠ¸ ì›¹ ì¸í„°í˜ì´ìŠ¤ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ #!/bin/bash # webui-access-test.sh echo &#34;ğŸŒ OpenWebUI ì ‘ê·¼ í…ŒìŠ¤íŠ¸...&#34; # OpenWebUI íŒŒë“œ ìƒíƒœ í™•ì¸ kubectl get pods -l app=openwebui -n openwebui # í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ë¡œì»¬ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; PORT_FORWARD_PID=$! sleep 10 # HTTP ìƒíƒœ ì½”ë“œ í™•ì¸ echo &#34;ğŸ“¡ HTTP ìƒíƒœ í™•ì¸...&#34; HTTP_STATUS=$(curl -s -o /dev/null -w &#34;%{http_code}&#34; http://localhost:8080) if [ &#34;$HTTP_STATUS&#34; = &#34;200&#34; ]; then echo &#34;âœ… OpenWebUI ì ‘ê·¼ ì„±ê³µ (HTTP $HTTP_STATUS)&#34; else echo &#34;âŒ OpenWebUI ì ‘ê·¼ ì‹¤íŒ¨ (HTTP $HTTP_STATUS)&#34; fi # HTML ì‘ë‹µ í™•ì¸ echo &#34;ğŸ“„ HTML ì‘ë‹µ í™•ì¸...&#34; curl -s http://localhost:8080 | head -20 # í¬íŠ¸ í¬ì›Œë”© ì¢…ë£Œ kill $PORT_FORWARD_PID echo &#34;âœ… OpenWebUI ì ‘ê·¼ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í•­ëª©:â–¡ ë©”ì¸ í˜ì´ì§€ ë¡œë”©â–¡ íšŒì›ê°€ì… í˜ì´ì§€â–¡ ë¡œê·¸ì¸ ê¸°ëŠ¥â–¡ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤â–¡ ëª¨ë¸ ì„ íƒ ê¸°ëŠ¥â–¡ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥â–¡ ì„¤ì • í˜ì´ì§€ ì ‘ê·¼ ğŸŒ 5ë‹¨ê³„: ë¡œë“œë°¸ëŸ°ì„œ ë° ë„¤íŠ¸ì›Œí‚¹ í…ŒìŠ¤íŠ¸ Ingress/LoadBalancer ìƒíƒœ í™•ì¸ #!/bin/bash # networking-test.sh echo &#34;ğŸŒ ë„¤íŠ¸ì›Œí‚¹ í…ŒìŠ¤íŠ¸...&#34; # Ingress ìƒíƒœ í™•ì¸ echo &#34;ğŸ“¡ Ingress ìƒíƒœ:&#34; kubectl get ingress -n openwebui -o wide # LoadBalancer ìƒíƒœ í™•ì¸ echo &#34;âš–ï¸ LoadBalancer ìƒíƒœ:&#34; kubectl get svc -n openwebui -o wide # DNS í•´ìƒë„ í…ŒìŠ¤íŠ¸ echo &#34;ğŸ” DNS í•´ìƒë„ í…ŒìŠ¤íŠ¸:&#34; INGRESS_HOST=$(kubectl get ingress openwebui-ingress -n openwebui -o jsonpath=&#39;{.status.loadBalancer.ingress[0].hostname}&#39;) if [ -n &#34;$INGRESS_HOST&#34; ]; then echo &#34;Ingress í˜¸ìŠ¤íŠ¸: $INGRESS_HOST&#34; nslookup $INGRESS_HOST # HTTP í…ŒìŠ¤íŠ¸ echo &#34;ğŸ”— ì™¸ë¶€ ì ‘ê·¼ í…ŒìŠ¤íŠ¸:&#34; curl -I http://$INGRESS_HOST --connect-timeout 10 else echo &#34;âš ï¸ Ingress í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&#34; fi echo &#34;âœ… ë„¤íŠ¸ì›Œí‚¹ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ì„œë¹„ìŠ¤ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸ #!/bin/bash # service-communication-test.sh echo &#34;ğŸ”„ ì„œë¹„ìŠ¤ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸...&#34; # OpenWebUIì—ì„œ LiteLLM ì—°ê²° í…ŒìŠ¤íŠ¸ echo &#34;ğŸ“¡ OpenWebUI â†’ LiteLLM ì—°ê²° í…ŒìŠ¤íŠ¸:&#34; kubectl exec deployment/openwebui -n openwebui -- \ curl -s http://litellm-service.litellm.svc.cluster.local:4000/health # OpenWebUIì—ì„œ PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸ echo &#34;ğŸ—ƒï¸ OpenWebUI â†’ PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸:&#34; kubectl exec deployment/openwebui -n openwebui -- \ nc -zv postgres-service 5432 # LiteLLMì—ì„œ PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸ echo &#34;ğŸ—ƒï¸ LiteLLM â†’ PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸:&#34; kubectl exec deployment/litellm -n litellm -- \ nc -zv postgres-service.openwebui.svc.cluster.local 5432 echo &#34;âœ… ì„œë¹„ìŠ¤ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ğŸ“Š 6ë‹¨ê³„: ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§ í™•ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ í™•ì¸ #!/bin/bash # log-check.sh echo &#34;ğŸ“Š ë¡œê·¸ í™•ì¸...&#34; echo &#34;ğŸ—ƒï¸ PostgreSQL ë¡œê·¸:&#34; kubectl logs deployment/postgres -n openwebui --tail=20 echo &#34;ğŸ¤– LiteLLM ë¡œê·¸:&#34; kubectl logs deployment/litellm -n litellm --tail=20 echo &#34;ğŸŒ OpenWebUI ë¡œê·¸:&#34; kubectl logs deployment/openwebui -n openwebui --tail=20 # ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰ echo &#34;âŒ ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰:&#34; kubectl logs deployment/openwebui -n openwebui | grep -i error | tail -10 kubectl logs deployment/litellm -n litellm | grep -i error | tail -10 echo &#34;âœ… ë¡œê·¸ í™•ì¸ ì™„ë£Œ&#34; ì´ë²¤íŠ¸ í™•ì¸ # í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸ í™•ì¸ kubectl get events -A --sort-by=&#39;.lastTimestamp&#39; | tail -20 # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ ì´ë²¤íŠ¸ kubectl get events -n openwebui --sort-by=&#39;.lastTimestamp&#39; kubectl get events -n litellm --sort-by=&#39;.lastTimestamp&#39; ë©”íŠ¸ë¦­ í™•ì¸ # ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ kubectl top pods -n openwebui --containers kubectl top pods -n litellm --containers # íŒŒë“œë³„ ìƒì„¸ ë©”íŠ¸ë¦­ kubectl describe pod -l app=openwebui -n openwebui kubectl describe pod -l app=litellm -n litellm ğŸš€ 7ë‹¨ê³„: ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê°„ë‹¨í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ #!/bin/bash # load-test.sh echo &#34;ğŸš€ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹œì‘...&#34; # í¬íŠ¸ í¬ì›Œë”© ì„¤ì • kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; PORT_FORWARD_PID=$! sleep 5 # Apache Benchë¥¼ ì‚¬ìš©í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ echo &#34;âš¡ HTTP ë¶€í•˜ í…ŒìŠ¤íŠ¸ (100 ìš”ì²­, ë™ì‹œì ‘ì† 10):&#34; ab -n 100 -c 10 http://localhost:8080/ # curlì„ ì‚¬ìš©í•œ ë°˜ë³µ í…ŒìŠ¤íŠ¸ echo &#34;ğŸ”„ ë°˜ë³µ ì ‘ì† í…ŒìŠ¤íŠ¸:&#34; for i in {1..10}; do echo &#34;ìš”ì²­ $i:&#34; curl -s -o /dev/null -w &#34;HTTP Status: %{http_code}, Time: %{time_total}s\n&#34; http://localhost:8080/ sleep 1 done # í¬íŠ¸ í¬ì›Œë”© ì¢…ë£Œ kill $PORT_FORWARD_PID echo &#34;âœ… ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; K6ë¥¼ ì‚¬ìš©í•œ ê³ ê¸‰ ë¶€í•˜ í…ŒìŠ¤íŠ¸ // k6-load-test.js import http from &#39;k6/http&#39;; import { check, sleep } from &#39;k6&#39;; export let options = { stages: [ { duration: &#39;2m&#39;, target: 10 }, // 2ë¶„ê°„ 10ëª… ì‚¬ìš©ìë¡œ ì¦ê°€ { duration: &#39;5m&#39;, target: 10 }, // 5ë¶„ê°„ 10ëª… ì‚¬ìš©ì ìœ ì§€ { duration: &#39;2m&#39;, target: 20 }, // 2ë¶„ê°„ 20ëª… ì‚¬ìš©ìë¡œ ì¦ê°€ { duration: &#39;5m&#39;, target: 20 }, // 5ë¶„ê°„ 20ëª… ì‚¬ìš©ì ìœ ì§€ { duration: &#39;2m&#39;, target: 0 }, // 2ë¶„ê°„ 0ëª…ìœ¼ë¡œ ê°ì†Œ ], }; export default function () { let response = http.get(&#39;http://localhost:8080&#39;); check(response, { &#39;status is 200&#39;: (r) =&gt; r.status === 200, &#39;response time &lt; 500ms&#39;: (r) =&gt; r.timings.duration &lt; 500, }); sleep(1); } # K6 ì„¤ì¹˜ ë° ì‹¤í–‰ # 1. K6 ì„¤ì¹˜ (macOS) brew install k6 # 2. ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; k6 run k6-load-test.js ğŸ”§ 8ë‹¨ê³„: ì¥ì•  ë³µêµ¬ í…ŒìŠ¤íŠ¸ íŒŒë“œ ì¥ì•  ì‹œë®¬ë ˆì´ì…˜ #!/bin/bash # failure-recovery-test.sh echo &#34;ğŸ”§ ì¥ì•  ë³µêµ¬ í…ŒìŠ¤íŠ¸...&#34; echo &#34;ğŸ’¥ OpenWebUI íŒŒë“œ ì‚­ì œ (ì¥ì•  ì‹œë®¬ë ˆì´ì…˜):&#34; kubectl delete pod -l app=openwebui -n openwebui echo &#34;â³ íŒŒë“œ ì¬ìƒì„± ëŒ€ê¸° (30ì´ˆ):&#34; sleep 30 echo &#34;âœ… íŒŒë“œ ë³µêµ¬ ìƒíƒœ í™•ì¸:&#34; kubectl get pods -l app=openwebui -n openwebui echo &#34;ğŸ” ì„œë¹„ìŠ¤ ê°€ìš©ì„± í…ŒìŠ¤íŠ¸:&#34; kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; PORT_FORWARD_PID=$! sleep 10 HTTP_STATUS=$(curl -s -o /dev/null -w &#34;%{http_code}&#34; http://localhost:8080) echo &#34;HTTP ìƒíƒœ: $HTTP_STATUS&#34; kill $PORT_FORWARD_PID if [ &#34;$HTTP_STATUS&#34; = &#34;200&#34; ]; then echo &#34;âœ… ì¥ì•  ë³µêµ¬ ì„±ê³µ&#34; else echo &#34;âŒ ì¥ì•  ë³µêµ¬ ì‹¤íŒ¨&#34; fi echo &#34;âœ… ì¥ì•  ë³µêµ¬ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  í…ŒìŠ¤íŠ¸ #!/bin/bash # db-failure-test.sh echo &#34;ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  í…ŒìŠ¤íŠ¸...&#34; echo &#34;ğŸ’¥ PostgreSQL íŒŒë“œ ì‚­ì œ:&#34; kubectl delete pod -l app=postgres -n openwebui echo &#34;â³ íŒŒë“œ ì¬ìƒì„± ë° ë°ì´í„° ë³µêµ¬ ëŒ€ê¸° (60ì´ˆ):&#34; sleep 60 echo &#34;âœ… PostgreSQL ë³µêµ¬ í™•ì¸:&#34; kubectl wait --for=condition=ready pod -l app=postgres -n openwebui --timeout=300s echo &#34;ğŸ” ë°ì´í„° ë¬´ê²°ì„± í™•ì¸:&#34; kubectl exec deployment/postgres -n openwebui -- psql -U openwebui -d openwebui -c &#34;SELECT 1 as test;&#34; echo &#34;âœ… ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  í…ŒìŠ¤íŠ¸ ì™„ë£Œ&#34; ğŸ“ˆ 9ë‹¨ê³„: ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ì¸¡ì • #!/bin/bash # performance-benchmark.sh echo &#34;ğŸ“ˆ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì‹œì‘...&#34; # í¬íŠ¸ í¬ì›Œë”© ì„¤ì • kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; PORT_FORWARD_PID=$! sleep 5 echo &#34;â±ï¸ ì‘ë‹µ ì‹œê°„ ì¸¡ì • (10íšŒ):&#34; for i in {1..10}; do curl -s -o /dev/null -w &#34;ì‘ë‹µì‹œê°„ $i: %{time_total}s\n&#34; http://localhost:8080/ done echo &#34;ğŸ“Š ë™ì‹œ ì ‘ì† í…ŒìŠ¤íŠ¸:&#34; ab -n 50 -c 5 http://localhost:8080/ | grep -E &#34;(Requests per second|Time per request)&#34; # í¬íŠ¸ í¬ì›Œë”© ì¢…ë£Œ kill $PORT_FORWARD_PID echo &#34;ğŸ’¾ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ê¸°ë¡:&#34; kubectl top pods -n openwebui --containers kubectl top pods -n litellm --containers echo &#34;âœ… ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì™„ë£Œ&#34; ğŸ” 10ë‹¨ê³„: ì¢…í•© ê²€ì¦ ë¦¬í¬íŠ¸ ìë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ #!/bin/bash # comprehensive-verification.sh set -e REPORT_FILE=&#34;verification-report-$(date &#43;%Y%m%d-%H%M%S).txt&#34; echo &#34;ğŸ“‹ OpenWebUI ì¢…í•© ê²€ì¦ ë¦¬í¬íŠ¸&#34; | tee $REPORT_FILE echo &#34;ìƒì„± ì‹œê°„: $(date)&#34; | tee -a $REPORT_FILE echo &#34;======================================&#34; | tee -a $REPORT_FILE # 1. ì¸í”„ë¼ ìƒíƒœ echo &#34;ğŸ—ï¸ 1. ì¸í”„ë¼ ìƒíƒœ&#34; | tee -a $REPORT_FILE kubectl get nodes --no-headers | wc -l | xargs echo &#34;- í™œì„± ë…¸ë“œ ìˆ˜:&#34; | tee -a $REPORT_FILE kubectl get pods -A --field-selector=status.phase=Running --no-headers | wc -l | xargs echo &#34;- ì‹¤í–‰ ì¤‘ì¸ íŒŒë“œ:&#34; | tee -a $REPORT_FILE # 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ echo &#34;ğŸŒ 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ&#34; | tee -a $REPORT_FILE kubectl get pods -n openwebui -l app=openwebui --no-headers | grep Running | wc -l | xargs echo &#34;- OpenWebUI íŒŒë“œ:&#34; | tee -a $REPORT_FILE kubectl get pods -n litellm -l app=litellm --no-headers | grep Running | wc -l | xargs echo &#34;- LiteLLM íŒŒë“œ:&#34; | tee -a $REPORT_FILE kubectl get pods -n openwebui -l app=postgres --no-headers | grep Running | wc -l | xargs echo &#34;- PostgreSQL íŒŒë“œ:&#34; | tee -a $REPORT_FILE # 3. ì„œë¹„ìŠ¤ ì—°ê²°ì„± echo &#34;ğŸ”— 3. ì„œë¹„ìŠ¤ ì—°ê²°ì„±&#34; | tee -a $REPORT_FILE if kubectl exec deployment/openwebui -n openwebui -- curl -s http://litellm-service.litellm.svc.cluster.local:4000/health &gt; /dev/null; then echo &#34;- OpenWebUI â†’ LiteLLM: âœ…&#34; | tee -a $REPORT_FILE else echo &#34;- OpenWebUI â†’ LiteLLM: âŒ&#34; | tee -a $REPORT_FILE fi if kubectl exec deployment/postgres -n openwebui -- pg_isready &gt; /dev/null; then echo &#34;- PostgreSQL ì—°ê²°: âœ…&#34; | tee -a $REPORT_FILE else echo &#34;- PostgreSQL ì—°ê²°: âŒ&#34; | tee -a $REPORT_FILE fi # 4. ì™¸ë¶€ ì ‘ê·¼ì„± echo &#34;ğŸŒ 4. ì™¸ë¶€ ì ‘ê·¼ì„±&#34; | tee -a $REPORT_FILE kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui &amp; PORT_FORWARD_PID=$! sleep 5 HTTP_STATUS=$(curl -s -o /dev/null -w &#34;%{http_code}&#34; http://localhost:8080 || echo &#34;000&#34;) if [ &#34;$HTTP_STATUS&#34; = &#34;200&#34; ]; then echo &#34;- HTTP ì ‘ê·¼: âœ… ($HTTP_STATUS)&#34; | tee -a $REPORT_FILE else echo &#34;- HTTP ì ‘ê·¼: âŒ ($HTTP_STATUS)&#34; | tee -a $REPORT_FILE fi kill $PORT_FORWARD_PID # 5. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ echo &#34;ğŸ“Š 5. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰&#34; | tee -a $REPORT_FILE kubectl top nodes --no-headers | awk &#39;{print &#34;- ë…¸ë“œ &#34; $1 &#34;: CPU &#34; $3 &#34;, Memory &#34; $5}&#39; | tee -a $REPORT_FILE # 6. ìµœê·¼ ì—ëŸ¬ ë¡œê·¸ echo &#34;âŒ 6. ìµœê·¼ ì—ëŸ¬ (ìµœê·¼ 10ë¶„)&#34; | tee -a $REPORT_FILE ERROR_COUNT=$(kubectl logs --since=10m -l app=openwebui -n openwebui | grep -i error | wc -l) echo &#34;- OpenWebUI ì—ëŸ¬: $ERROR_COUNT ê±´&#34; | tee -a $REPORT_FILE echo &#34;======================================&#34; | tee -a $REPORT_FILE echo &#34;âœ… ê²€ì¦ ì™„ë£Œ - ë¦¬í¬íŠ¸ íŒŒì¼: $REPORT_FILE&#34; | tee -a $REPORT_FILE ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸ #!/bin/bash # final-checklist.sh echo &#34;ğŸ“‹ ìµœì¢… ë°°í¬ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸&#34; echo &#34;===============================&#34; checks=( &#34;ëª¨ë“  íŒŒë“œê°€ Running ìƒíƒœì¸ê°€?&#34; &#34;ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ì •ìƒì¸ê°€?&#34; &#34;LiteLLM APIê°€ ì‘ë‹µí•˜ëŠ”ê°€?&#34; &#34;OpenWebUI ì›¹ í˜ì´ì§€ê°€ ë¡œë“œë˜ëŠ”ê°€?&#34; &#34;ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œê°€?&#34; &#34;íŒŒë“œ ê°„ í†µì‹ ì´ ì •ìƒì¸ê°€?&#34; &#34;ë¡œê·¸ì— ì‹¬ê°í•œ ì—ëŸ¬ê°€ ì—†ëŠ”ê°€?&#34; &#34;ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì ì •í•œê°€?&#34; &#34;ì¥ì•  ë³µêµ¬ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ê°€?&#34; &#34;ì„±ëŠ¥ì´ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ”ê°€?&#34; ) for check in &#34;${checks[@]}&#34;; do echo &#34;â–¡ $check&#34; done echo &#34;&#34; echo &#34;ëª¨ë“  í•­ëª©ì´ ì²´í¬ë˜ë©´ ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²ƒì…ë‹ˆë‹¤! ğŸ‰&#34; ğŸš¨ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ ì¼ë°˜ì ì¸ ë¬¸ì œë“¤ 1. íŒŒë“œê°€ Pending ìƒíƒœ # ì›ì¸ í™•ì¸ kubectl describe pod &lt;pod-name&gt; -n &lt;namespace&gt; # ì¼ë°˜ì ì¸ í•´ê²°ì±… # - ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ë¶€ì¡±: ìŠ¤ì¼€ì¼ë§ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¡°ì • # - PVC ë§ˆìš´íŠ¸ ì‹¤íŒ¨: StorageClass í™•ì¸ # - ì´ë¯¸ì§€ Pull ì‹¤íŒ¨: ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì ‘ê·¼ ê¶Œí•œ í™•ì¸ 2. ì„œë¹„ìŠ¤ ì—°ê²° ì‹¤íŒ¨ # ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ í™•ì¸ kubectl get endpoints -n &lt;namespace&gt; # DNS í•´ìƒë„ í…ŒìŠ¤íŠ¸ kubectl exec -it &lt;pod-name&gt; -n &lt;namespace&gt; -- nslookup &lt;service-name&gt; # ë„¤íŠ¸ì›Œí¬ ì •ì±… í™•ì¸ kubectl get networkpolicy -A 3. ë¡œë“œë°¸ëŸ°ì„œ ì ‘ê·¼ ë¶ˆê°€ # ALB ìƒíƒœ í™•ì¸ kubectl describe ingress &lt;ingress-name&gt; -n &lt;namespace&gt; # AWS ì½˜ì†”ì—ì„œ ë¡œë“œë°¸ëŸ°ì„œ ìƒíƒœ í™•ì¸ aws elbv2 describe-load-balancers # ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ í™•ì¸ aws ec2 describe-security-groups ğŸ“š ì„±ëŠ¥ ìµœì í™” ê¶Œì¥ì‚¬í•­ ë¦¬ì†ŒìŠ¤ ìµœì í™” # ê¶Œì¥ ë¦¬ì†ŒìŠ¤ ì„¤ì • resources: requests: memory: &#34;256Mi&#34; cpu: &#34;250m&#34; limits: memory: &#34;512Mi&#34; cpu: &#34;500m&#34; ìºì‹± ì „ëµ Redis ìºì‹œ ì¶”ê°€ ê³ ë ¤ CDN ì„¤ì • (ì •ì  ìì›ìš©) ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™” ëª¨ë‹ˆí„°ë§ ê°•í™” Prometheus &#43; Grafana ì„¤ì¹˜ Alert Manager ì„¤ì • ë¡œê·¸ ì§‘ê³„ ì‹œìŠ¤í…œ êµ¬ì¶• â­ï¸ ë‹¤ìŒ ë‹¨ê³„ ë°°í¬ ê²€ì¦ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´:
...</p>
  </div>
  <footer class="entry-footer">11 min&nbsp;Â·&nbsp;2135 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/%EB%B0%B0%ED%8F%AC-%EA%B2%80%EC%A6%9D-%EA%B0%80%EC%9D%B4%EB%93%9C/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸš€ OpenWebUI AWS ë°°í¬ ì‚¬ì „ ì¤€ë¹„ì‚¬í•­ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì•½ 60-90ë¶„
ğŸ’¡ ë‚œì´ë„: ì´ˆê¸‰
ğŸ“‹ ëª©í‘œ: AWSì— OpenWebUIë¥¼ ë°°í¬í•˜ê¸° ìœ„í•œ ëª¨ë“  ë„êµ¬ì™€ í™˜ê²½ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.
ğŸ“‹ ì¤€ë¹„ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— ì•„ë˜ í•­ëª©ë“¤ì„ ì²´í¬í•´ì£¼ì„¸ìš”:
í•„ìˆ˜ ê³„ì • AWS ê³„ì • (ê²°ì œ ì •ë³´ ë“±ë¡ ì™„ë£Œ) GitHub ê³„ì • Docker Hub ê³„ì • (ì„ íƒì‚¬í•­) í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜ AWS CLI v2 Terraform v1.5&#43; kubectl v1.24&#43; Docker Desktop Git ì½”ë“œ ì—ë””í„° (VS Code ê¶Œì¥) ê¶Œí•œ ë° ì„¤ì • AWS IAM ì‚¬ìš©ì ìƒì„± ë° ê¶Œí•œ ì„¤ì • AWS CLI ìê²© ì¦ëª… ì„¤ì • GitHub Personal Access Token ìƒì„± 1ï¸âƒ£ AWS ê³„ì • ë° IAM ì„¤ì • AWS ê³„ì • ì¤€ë¹„ AWS ê³„ì •ì´ ì—†ëŠ” ê²½ìš°
...</p>
  </div>
  <footer class="entry-footer">6 min&nbsp;Â·&nbsp;1243 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/%EC%82%AC%EC%A0%84%EC%A4%80%EB%B9%84%EC%82%AC%ED%95%AD/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸš€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê°€ì´ë“œ â±ï¸ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 45-60ë¶„
ğŸ’¡ ë‚œì´ë„: ì¤‘ê¸‰
ğŸ“‹ ëª©í‘œ: EKS í´ëŸ¬ìŠ¤í„°ì— OpenWebUIì™€ LiteLLMì„ ë°°í¬í•©ë‹ˆë‹¤.
ğŸ“‹ ë°°í¬ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ConfigMap ë° Secret ìƒì„± PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ë°°í¬ LiteLLM ì„œë¹„ìŠ¤ ë°°í¬ OpenWebUI ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ Ingress/LoadBalancer ì„¤ì • SSL ì¸ì¦ì„œ ì„¤ì • ëª¨ë‹ˆí„°ë§ ì„¤ì • ğŸ“ ë°°í¬ íŒŒì¼ êµ¬ì¡° kubernetes/â”œâ”€â”€ base/â”‚ â”œâ”€â”€ configmaps/â”‚ â”œâ”€â”€ secrets/â”‚ â”œâ”€â”€ postgres/â”‚ â”œâ”€â”€ litellm/â”‚ â”œâ”€â”€ openwebui/â”‚ â””â”€â”€ ingress/â””â”€â”€ overlays/â”œâ”€â”€ dev/â””â”€â”€ prod/ ğŸ—‚ï¸ 1ë‹¨ê³„: ConfigMap ë° Secret ìƒì„± ConfigMap ìƒì„± # kubernetes/base/configmaps/app-config.yaml apiVersion: v1 kind: ConfigMap metadata: name: app-config namespace: openwebui data: # PostgreSQL ì„¤ì • POSTGRES_HOST: &#34;postgres-service.openwebui.svc.cluster.local&#34; POSTGRES_PORT: &#34;5432&#34; POSTGRES_DB: &#34;openwebui&#34; # LiteLLM ì„¤ì • LITELLM_HOST: &#34;litellm-service.litellm.svc.cluster.local&#34; LITELLM_PORT: &#34;4000&#34; # OpenWebUI ì„¤ì • WEBUI_SECRET_KEY: &#34;your-secret-key-here&#34; WEBUI_JWT_SECRET_KEY: &#34;your-jwt-secret-here&#34; DEFAULT_LOCALE: &#34;ko-KR&#34; # ê¸°ë³¸ ì„¤ì • LOG_LEVEL: &#34;INFO&#34; ENVIRONMENT: &#34;development&#34; --- apiVersion: v1 kind: ConfigMap metadata: name: litellm-config namespace: litellm data: config.yaml: | model_list: - model_name: gpt-3.5-turbo litellm_params: model: gpt-3.5-turbo api_key: os.environ/OPENAI_API_KEY - model_name: gpt-4 litellm_params: model: gpt-4 api_key: os.environ/OPENAI_API_KEY - model_name: claude-3-sonnet litellm_params: model: anthropic/claude-3-sonnet-20240229 api_key: os.environ/ANTHROPIC_API_KEY general_settings: master_key: os.environ/LITELLM_MASTER_KEY database_url: os.environ/DATABASE_URL Secret ìƒì„± # kubernetes/base/secrets/app-secrets.yaml apiVersion: v1 kind: Secret metadata: name: app-secrets namespace: openwebui type: Opaque data: # Base64ë¡œ ì¸ì½”ë”©ëœ ê°’ë“¤ POSTGRES_USER: b3BlbndlYnVp # openwebui POSTGRES_PASSWORD: cGFzc3dvcmQxMjM= # password123 --- apiVersion: v1 kind: Secret metadata: name: api-keys namespace: litellm type: Opaque data: OPENAI_API_KEY: eW91ci1vcGVuYWktYXBpLWtleQ== # your-openai-api-key ANTHROPIC_API_KEY: eW91ci1hbnRocm9waWMtYXBpLWtleQ== # your-anthropic-api-key LITELLM_MASTER_KEY: bGl0ZWxsbS1tYXN0ZXIta2V5 # litellm-master-key ì‹¤ì œ Secret ìƒì„± (ëª…ë ¹ì–´) # PostgreSQL ì¸ì¦ ì •ë³´ kubectl create secret generic app-secrets \ --from-literal=POSTGRES_USER=openwebui \ --from-literal=POSTGRES_PASSWORD=password123 \ -n openwebui # API í‚¤ë“¤ kubectl create secret generic api-keys \ --from-literal=OPENAI_API_KEY=your-actual-openai-key \ --from-literal=ANTHROPIC_API_KEY=your-actual-anthropic-key \ --from-literal=LITELLM_MASTER_KEY=your-master-key \ -n litellm ğŸ—ƒï¸ 2ë‹¨ê³„: PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ë°°í¬ PVC ìƒì„± # kubernetes/base/postgres/pvc.yaml apiVersion: v1 kind: PersistentVolumeClaim metadata: name: postgres-pvc namespace: openwebui spec: accessModes: - ReadWriteOnce storageClassName: gp3-encrypted resources: requests: storage: 10Gi PostgreSQL Deployment # kubernetes/base/postgres/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: postgres namespace: openwebui spec: replicas: 1 selector: matchLabels: app: postgres template: metadata: labels: app: postgres spec: containers: - name: postgres image: postgres:15 ports: - containerPort: 5432 env: - name: POSTGRES_DB valueFrom: configMapKeyRef: name: app-config key: POSTGRES_DB - name: POSTGRES_USER valueFrom: secretKeyRef: name: app-secrets key: POSTGRES_USER - name: POSTGRES_PASSWORD valueFrom: secretKeyRef: name: app-secrets key: POSTGRES_PASSWORD - name: PGDATA value: /var/lib/postgresql/data/pgdata volumeMounts: - name: postgres-storage mountPath: /var/lib/postgresql/data resources: requests: memory: &#34;256Mi&#34; cpu: &#34;250m&#34; limits: memory: &#34;512Mi&#34; cpu: &#34;500m&#34; volumes: - name: postgres-storage persistentVolumeClaim: claimName: postgres-pvc PostgreSQL Service # kubernetes/base/postgres/service.yaml apiVersion: v1 kind: Service metadata: name: postgres-service namespace: openwebui spec: selector: app: postgres ports: - port: 5432 targetPort: 5432 type: ClusterIP ğŸ¤– 3ë‹¨ê³„: LiteLLM ì„œë¹„ìŠ¤ ë°°í¬ LiteLLM Deployment # kubernetes/base/litellm/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: litellm namespace: litellm spec: replicas: 2 selector: matchLabels: app: litellm template: metadata: labels: app: litellm spec: containers: - name: litellm image: ghcr.io/berriai/litellm:main-latest ports: - containerPort: 4000 env: - name: OPENAI_API_KEY valueFrom: secretKeyRef: name: api-keys key: OPENAI_API_KEY - name: ANTHROPIC_API_KEY valueFrom: secretKeyRef: name: api-keys key: ANTHROPIC_API_KEY - name: LITELLM_MASTER_KEY valueFrom: secretKeyRef: name: api-keys key: LITELLM_MASTER_KEY - name: DATABASE_URL value: &#34;postgresql://$(POSTGRES_USER):$(POSTGRES_PASSWORD)@postgres-service.openwebui.svc.cluster.local:5432/litellm&#34; envFrom: - secretRef: name: app-secrets volumeMounts: - name: config mountPath: /app/config.yaml subPath: config.yaml command: [&#34;litellm&#34;, &#34;--config&#34;, &#34;/app/config.yaml&#34;, &#34;--port&#34;, &#34;4000&#34;, &#34;--num_workers&#34;, &#34;8&#34;] resources: requests: memory: &#34;512Mi&#34; cpu: &#34;250m&#34; limits: memory: &#34;1Gi&#34; cpu: &#34;500m&#34; readinessProbe: httpGet: path: /health/readiness port: 4000 initialDelaySeconds: 30 periodSeconds: 10 livenessProbe: httpGet: path: /health/liveliness port: 4000 initialDelaySeconds: 60 periodSeconds: 30 volumes: - name: config configMap: name: litellm-config LiteLLM Service # kubernetes/base/litellm/service.yaml apiVersion: v1 kind: Service metadata: name: litellm-service namespace: litellm spec: selector: app: litellm ports: - port: 4000 targetPort: 4000 type: ClusterIP ğŸŒ 4ë‹¨ê³„: OpenWebUI ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ OpenWebUI Deployment # kubernetes/base/openwebui/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: openwebui namespace: openwebui spec: replicas: 2 selector: matchLabels: app: openwebui template: metadata: labels: app: openwebui spec: containers: - name: openwebui image: ghcr.io/open-webui/open-webui:main ports: - containerPort: 8080 env: - name: OLLAMA_BASE_URL value: &#34;http://litellm-service.litellm.svc.cluster.local:4000&#34; - name: WEBUI_SECRET_KEY valueFrom: configMapKeyRef: name: app-config key: WEBUI_SECRET_KEY - name: DATABASE_URL value: &#34;postgresql://$(POSTGRES_USER):$(POSTGRES_PASSWORD)@postgres-service:5432/openwebui&#34; - name: DEFAULT_LOCALE valueFrom: configMapKeyRef: name: app-config key: DEFAULT_LOCALE envFrom: - secretRef: name: app-secrets - configMapRef: name: app-config volumeMounts: - name: data mountPath: /app/backend/data resources: requests: memory: &#34;512Mi&#34; cpu: &#34;250m&#34; limits: memory: &#34;1Gi&#34; cpu: &#34;500m&#34; readinessProbe: httpGet: path: /health port: 8080 initialDelaySeconds: 30 periodSeconds: 10 livenessProbe: httpGet: path: /health port: 8080 initialDelaySeconds: 60 periodSeconds: 30 volumes: - name: data persistentVolumeClaim: claimName: openwebui-pvc OpenWebUI PVC # kubernetes/base/openwebui/pvc.yaml apiVersion: v1 kind: PersistentVolumeClaim metadata: name: openwebui-pvc namespace: openwebui spec: accessModes: - ReadWriteOnce storageClassName: gp3-encrypted resources: requests: storage: 5Gi OpenWebUI Service # kubernetes/base/openwebui/service.yaml apiVersion: v1 kind: Service metadata: name: openwebui-service namespace: openwebui spec: selector: app: openwebui ports: - port: 8080 targetPort: 8080 type: ClusterIP ğŸŒ 5ë‹¨ê³„: Ingress ë° LoadBalancer ì„¤ì • Application Load Balancer (ALB) ì„¤ì • # kubernetes/base/ingress/ingress.yaml apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: openwebui-ingress namespace: openwebui annotations: # ALB ì„¤ì • kubernetes.io/ingress.class: alb alb.ingress.kubernetes.io/scheme: internet-facing alb.ingress.kubernetes.io/target-type: ip # SSL ì„¤ì • alb.ingress.kubernetes.io/listen-ports: &#39;[{&#34;HTTP&#34;: 80}, {&#34;HTTPS&#34;: 443}]&#39; alb.ingress.kubernetes.io/ssl-redirect: &#39;443&#39; alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:ap-northeast-2:ACCOUNT_ID:certificate/CERT_ID # í—¬ìŠ¤ì²´í¬ ì„¤ì • alb.ingress.kubernetes.io/healthcheck-path: /health alb.ingress.kubernetes.io/healthcheck-interval-seconds: &#39;30&#39; alb.ingress.kubernetes.io/healthcheck-timeout-seconds: &#39;5&#39; alb.ingress.kubernetes.io/healthy-threshold-count: &#39;2&#39; alb.ingress.kubernetes.io/unhealthy-threshold-count: &#39;3&#39; # ê¸°íƒ€ ì„¤ì • alb.ingress.kubernetes.io/load-balancer-name: openwebui-alb alb.ingress.kubernetes.io/tags: Environment=dev,Project=openwebui spec: rules: - host: openwebui.yourdomain.com http: paths: - path: / pathType: Prefix backend: service: name: openwebui-service port: number: 8080 LoadBalancer Service (ëŒ€ì•ˆ) # kubernetes/base/ingress/loadbalancer.yaml apiVersion: v1 kind: Service metadata: name: openwebui-loadbalancer namespace: openwebui annotations: service.beta.kubernetes.io/aws-load-balancer-type: &#34;nlb&#34; service.beta.kubernetes.io/aws-load-balancer-scheme: &#34;internet-facing&#34; service.beta.kubernetes.io/aws-load-balancer-name: &#34;openwebui-nlb&#34; spec: type: LoadBalancer selector: app: openwebui ports: - port: 80 targetPort: 8080 protocol: TCP ğŸ“Š 6ë‹¨ê³„: ëª¨ë‹ˆí„°ë§ ì„¤ì • Prometheus ServiceMonitor # kubernetes/base/monitoring/servicemonitor.yaml apiVersion: monitoring.coreos.com/v1 kind: ServiceMonitor metadata: name: openwebui-monitor namespace: monitoring spec: selector: matchLabels: app: openwebui endpoints: - port: http path: /metrics interval: 30s --- apiVersion: monitoring.coreos.com/v1 kind: ServiceMonitor metadata: name: litellm-monitor namespace: monitoring spec: selector: matchLabels: app: litellm endpoints: - port: http path: /metrics interval: 30s ğŸš€ 7ë‹¨ê³„: ë°°í¬ ì‹¤í–‰ ë°°í¬ ìˆœì„œ # 1. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„± (ì´ë¯¸ ì™„ë£Œë¨) kubectl get namespaces # 2. ConfigMap ë° Secret ì ìš© kubectl apply -f kubernetes/base/configmaps/ kubectl apply -f kubernetes/base/secrets/ # 3. PostgreSQL ë°°í¬ kubectl apply -f kubernetes/base/postgres/ # PostgreSQL ì¤€ë¹„ ì™„ë£Œ ëŒ€ê¸° kubectl wait --for=condition=ready pod -l app=postgres -n openwebui --timeout=300s # 4. LiteLLM ë°°í¬ kubectl apply -f kubernetes/base/litellm/ # LiteLLM ì¤€ë¹„ ì™„ë£Œ ëŒ€ê¸° kubectl wait --for=condition=ready pod -l app=litellm -n litellm --timeout=300s # 5. OpenWebUI ë°°í¬ kubectl apply -f kubernetes/base/openwebui/ # OpenWebUI ì¤€ë¹„ ì™„ë£Œ ëŒ€ê¸° kubectl wait --for=condition=ready pod -l app=openwebui -n openwebui --timeout=300s # 6. Ingress ì„¤ì • kubectl apply -f kubernetes/base/ingress/ # 7. ëª¨ë‹ˆí„°ë§ ì„¤ì • (ì„ íƒì‚¬í•­) kubectl apply -f kubernetes/base/monitoring/ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ #!/bin/bash # deploy.sh set -e echo &#34;ğŸš€ OpenWebUI ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ì‹œì‘...&#34; # í™˜ê²½ í™•ì¸ if ! kubectl get nodes &gt; /dev/null 2&gt;&amp;1; then echo &#34;âŒ kubectlì´ í´ëŸ¬ìŠ¤í„°ì— ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&#34; exit 1 fi echo &#34;ğŸ“ 1. ConfigMap ë° Secret ì ìš©...&#34; kubectl apply -f kubernetes/base/configmaps/ kubectl apply -f kubernetes/base/secrets/ echo &#34;ğŸ—ƒï¸ 2. PostgreSQL ë°°í¬...&#34; kubectl apply -f kubernetes/base/postgres/ echo &#34;â³ PostgreSQL ì¤€ë¹„ ëŒ€ê¸°...&#34; kubectl wait --for=condition=ready pod -l app=postgres -n openwebui --timeout=300s echo &#34;ğŸ¤– 3. LiteLLM ë°°í¬...&#34; kubectl apply -f kubernetes/base/litellm/ echo &#34;â³ LiteLLM ì¤€ë¹„ ëŒ€ê¸°...&#34; kubectl wait --for=condition=ready pod -l app=litellm -n litellm --timeout=300s echo &#34;ğŸŒ 4. OpenWebUI ë°°í¬...&#34; kubectl apply -f kubernetes/base/openwebui/ echo &#34;â³ OpenWebUI ì¤€ë¹„ ëŒ€ê¸°...&#34; kubectl wait --for=condition=ready pod -l app=openwebui -n openwebui --timeout=300s echo &#34;ğŸŒ 5. Ingress ì„¤ì •...&#34; kubectl apply -f kubernetes/base/ingress/ echo &#34;ğŸ“Š 6. ëª¨ë‹ˆí„°ë§ ì„¤ì •...&#34; kubectl apply -f kubernetes/base/monitoring/ || echo &#34;âš ï¸ ëª¨ë‹ˆí„°ë§ ì„¤ì • ì‹¤íŒ¨ (ì„ íƒì‚¬í•­)&#34; echo &#34;âœ… ë°°í¬ ì™„ë£Œ!&#34; echo &#34;ğŸ”— LoadBalancer URL í™•ì¸:&#34; kubectl get ingress -n openwebui kubectl get svc -n openwebui echo &#34;ğŸ“‹ íŒŒë“œ ìƒíƒœ í™•ì¸:&#34; kubectl get pods -n openwebui kubectl get pods -n litellm chmod &#43;x deploy.sh ./deploy.sh ğŸ” ìƒíƒœ í™•ì¸ ë°°í¬ ìƒíƒœ í™•ì¸ # ì „ì²´ íŒŒë“œ ìƒíƒœ kubectl get pods -A # ì„œë¹„ìŠ¤ ìƒíƒœ kubectl get svc -A # Ingress ìƒíƒœ kubectl get ingress -A # ë¡œê·¸ í™•ì¸ kubectl logs -f deployment/openwebui -n openwebui kubectl logs -f deployment/litellm -n litellm kubectl logs -f deployment/postgres -n openwebui ì„œë¹„ìŠ¤ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ # í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ë¡œì»¬ í…ŒìŠ¤íŠ¸ kubectl port-forward svc/openwebui-service 8080:8080 -n openwebui # ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8080 ì ‘ì† ğŸ”§ ì„¤ì • ì—…ë°ì´íŠ¸ ConfigMap ì—…ë°ì´íŠ¸ # ConfigMap ìˆ˜ì • í›„ íŒŒë“œ ì¬ì‹œì‘ kubectl apply -f kubernetes/base/configmaps/ kubectl rollout restart deployment/openwebui -n openwebui kubectl rollout restart deployment/litellm -n litellm Secret ì—…ë°ì´íŠ¸ # ìƒˆ API í‚¤ ì¶”ê°€ kubectl create secret generic api-keys \ --from-literal=OPENAI_API_KEY=new-key \ --from-literal=ANTHROPIC_API_KEY=new-key \ --dry-run=client -o yaml | kubectl apply -f - kubectl rollout restart deployment/litellm -n litellm ğŸ“ˆ ìŠ¤ì¼€ì¼ë§ ìˆ˜ë™ ìŠ¤ì¼€ì¼ë§ # OpenWebUI íŒŒë“œ ê°œìˆ˜ ì¡°ì • kubectl scale deployment openwebui --replicas=3 -n openwebui # LiteLLM íŒŒë“œ ê°œìˆ˜ ì¡°ì • kubectl scale deployment litellm --replicas=4 -n litellm HPA (Horizontal Pod Autoscaler) ì„¤ì • # kubernetes/base/openwebui/hpa.yaml apiVersion: autoscaling/v2 kind: HorizontalPodAutoscaler metadata: name: openwebui-hpa namespace: openwebui spec: scaleTargetRef: apiVersion: apps/v1 kind: Deployment name: openwebui minReplicas: 2 maxReplicas: 10 metrics: - type: Resource resource: name: cpu target: type: Utilization averageUtilization: 70 - type: Resource resource: name: memory target: type: Utilization averageUtilization: 80 â­ï¸ ë‹¤ìŒ ë‹¨ê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´:
...</p>
  </div>
  <footer class="entry-footer">7 min&nbsp;Â·&nbsp;1413 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%B0%B0%ED%8F%AC-%EA%B0%80%EC%9D%B4%EB%93%9C/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸ› ï¸ OpenWebUI ìš´ì˜ ë§¤ë‰´ì–¼ ğŸ‘¥ ëŒ€ìƒ: DevOps ì—”ì§€ë‹ˆì–´, SRE, ì‹œìŠ¤í…œ ê´€ë¦¬ì
ğŸ“… ì—…ë°ì´íŠ¸: ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•„ìš”
ğŸš¨ ë¹„ìƒ ì—°ë½ì²˜: [íŒ€ ì—°ë½ì²˜ ì •ë³´]
ğŸ“‹ ì¼ì¼ ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§¤ì¼ í™•ì¸ í•­ëª© #!/bin/bash # daily-check.sh echo &#34;ğŸ“… $(date &#39;&#43;%Y-%m-%d %H:%M:%S&#39;) - ì¼ì¼ ìš´ì˜ ì²´í¬ ì‹œì‘&#34; # 1. í´ëŸ¬ìŠ¤í„° ìƒíƒœ kubectl get nodes kubectl get pods -A | grep -v Running # 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ kubectl get pods -n openwebui -n litellm # 3. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ kubectl top nodes kubectl top pods -A # 4. ìµœê·¼ ì—ëŸ¬ ë¡œê·¸ (ìµœê·¼ 1ì‹œê°„) kubectl logs --since=1h -n openwebui -l app=openwebui | grep -i error | tail -10 # 5. ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ kubectl get pvc -A echo &#34;âœ… ì¼ì¼ ì²´í¬ ì™„ë£Œ&#34; ì£¼ê°„ í™•ì¸ í•­ëª© ë°±ì—… ìƒíƒœ í™•ì¸ ë³´ì•ˆ íŒ¨ì¹˜ ê²€í†  ë¹„ìš© ì‚¬ìš©ëŸ‰ í™•ì¸ ì„±ëŠ¥ ë©”íŠ¸ë¦­ ê²€í†  ë¡œê·¸ ì •ë¦¬ ğŸ” ëª¨ë‹ˆí„°ë§ ë° ì•ŒëŒ í•µì‹¬ ë©”íŠ¸ë¦­ # prometheus-alerts.yml groups: - name: openwebui.rules rules: # íŒŒë“œ ìƒíƒœ ì•ŒëŒ - alert: PodCrashLooping expr: rate(kube_pod_container_status_restarts_total[5m]) &gt; 0 for: 5m annotations: summary: &#34;Pod {{ $labels.pod }} is crash looping&#34; # ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì•ŒëŒ - alert: HighCPUUsage expr: (cpu_usage_rate &gt; 80) for: 10m annotations: summary: &#34;High CPU usage: {{ $value }}%&#34; # ì‘ë‹µ ì‹œê°„ ì•ŒëŒ - alert: HighResponseTime expr: http_request_duration_seconds &gt; 2 for: 5m annotations: summary: &#34;High response time: {{ $value }}s&#34; ë¡œê·¸ ëª¨ë‹ˆí„°ë§ # ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ kubectl logs -f deployment/openwebui -n openwebui # ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰ kubectl logs deployment/openwebui -n openwebui | grep -E &#34;(ERROR|FATAL|CRITICAL)&#34; # íŠ¹ì • ì‹œê°„ëŒ€ ë¡œê·¸ kubectl logs --since=2h --until=1h deployment/openwebui -n openwebui ğŸ“Š ì„±ëŠ¥ ê´€ë¦¬ ìŠ¤ì¼€ì¼ë§ ê´€ë¦¬ # ìˆ˜ë™ ìŠ¤ì¼€ì¼ë§ kubectl scale deployment openwebui --replicas=5 -n openwebui kubectl scale deployment litellm --replicas=3 -n litellm # HPA ìƒíƒœ í™•ì¸ kubectl get hpa -A # ìŠ¤ì¼€ì¼ë§ ì´ë²¤íŠ¸ í™•ì¸ kubectl describe hpa openwebui-hpa -n openwebui ë¦¬ì†ŒìŠ¤ ìµœì í™” # ë¦¬ì†ŒìŠ¤ ìš”ì²­ëŸ‰ ì¡°ì • ì˜ˆì‹œ resources: requests: memory: &#34;512Mi&#34; # ì‹¤ì œ ì‚¬ìš©ëŸ‰ ê¸°ë°˜ ì¡°ì • cpu: &#34;250m&#34; limits: memory: &#34;1Gi&#34; # OOM ë°©ì§€ cpu: &#34;500m&#34; # CPU ìŠ¤ë¡œí‹€ë§ ë°©ì§€ ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ # PostgreSQL ì—°ê²° ìˆ˜ í™•ì¸ kubectl exec deployment/postgres -n openwebui -- \ psql -U openwebui -d openwebui -c \ &#34;SELECT count(*) FROM pg_stat_activity WHERE state = &#39;active&#39;;&#34; # ìŠ¬ë¡œìš° ì¿¼ë¦¬ í™•ì¸ kubectl exec deployment/postgres -n openwebui -- \ psql -U openwebui -d openwebui -c \ &#34;SELECT query, mean_exec_time FROM pg_stat_statements ORDER BY mean_exec_time DESC LIMIT 10;&#34; # ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸° í™•ì¸ kubectl exec deployment/postgres -n openwebui -- \ psql -U openwebui -d openwebui -c \ &#34;SELECT pg_size_pretty(pg_database_size(&#39;openwebui&#39;));&#34; ğŸ”„ ë°±ì—… ë° ë³µì› ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… #!/bin/bash # backup-database.sh BACKUP_DATE=$(date &#43;%Y%m%d_%H%M%S) BACKUP_FILE=&#34;openwebui_backup_${BACKUP_DATE}.sql&#34; # PostgreSQL ë°±ì—… kubectl exec deployment/postgres -n openwebui -- \ pg_dump -U openwebui openwebui &gt; $BACKUP_FILE # S3ì— ì—…ë¡œë“œ aws s3 cp $BACKUP_FILE s3://openwebui-backups/database/ # ë¡œì»¬ íŒŒì¼ ì •ë¦¬ (7ì¼ ì´ìƒ ëœ íŒŒì¼) find . -name &#34;openwebui_backup_*.sql&#34; -mtime &#43;7 -delete echo &#34;âœ… ë°±ì—… ì™„ë£Œ: $BACKUP_FILE&#34; ë°ì´í„°ë² ì´ìŠ¤ ë³µì› #!/bin/bash # restore-database.sh BACKUP_FILE=$1 if [ -z &#34;$BACKUP_FILE&#34; ]; then echo &#34;ì‚¬ìš©ë²•: $0 &lt;backup_file&gt;&#34; exit 1 fi # S3ì—ì„œ ë°±ì—… íŒŒì¼ ë‹¤ìš´ë¡œë“œ aws s3 cp s3://openwebui-backups/database/$BACKUP_FILE . # ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ì§€ kubectl scale deployment openwebui --replicas=0 -n openwebui kubectl scale deployment litellm --replicas=0 -n litellm # ë°ì´í„°ë² ì´ìŠ¤ ë³µì› kubectl exec -i deployment/postgres -n openwebui -- \ psql -U openwebui openwebui &lt; $BACKUP_FILE # ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ kubectl scale deployment openwebui --replicas=2 -n openwebui kubectl scale deployment litellm --replicas=2 -n litellm echo &#34;âœ… ë³µì› ì™„ë£Œ&#34; ì„¤ì • íŒŒì¼ ë°±ì—… # ConfigMap ë°±ì—… kubectl get configmap -n openwebui -o yaml &gt; configmaps-backup.yaml kubectl get configmap -n litellm -o yaml &gt;&gt; configmaps-backup.yaml # Secret ë°±ì—… (ì•”í˜¸í™”ëœ í˜•íƒœ) kubectl get secret -n openwebui -o yaml &gt; secrets-backup.yaml kubectl get secret -n litellm -o yaml &gt;&gt; secrets-backup.yaml ğŸš¨ ì¥ì•  ëŒ€ì‘ ê¸´ê¸‰ ìƒí™© ëŒ€ì‘ ì ˆì°¨ 1ë‹¨ê³„: ìƒí™© íŒŒì•… (5ë¶„ ì´ë‚´) # ì „ì²´ ìƒíƒœ ë¹ ë¥¸ í™•ì¸ kubectl get pods -A | grep -v Running kubectl get nodes kubectl top nodes # ìµœê·¼ ì´ë²¤íŠ¸ í™•ì¸ kubectl get events -A --sort-by=&#39;.lastTimestamp&#39; | tail -20 2ë‹¨ê³„: ì„ì‹œ ì¡°ì¹˜ (10ë¶„ ì´ë‚´) # íŒŒë“œ ì¬ì‹œì‘ kubectl rollout restart deployment/openwebui -n openwebui # íŠ¸ë˜í”½ ì°¨ë‹¨ (í•„ìš”ì‹œ) kubectl patch ingress openwebui-ingress -n openwebui -p \ &#39;{&#34;metadata&#34;:{&#34;annotations&#34;:{&#34;nginx.ingress.kubernetes.io/server-snippet&#34;:&#34;return 503;&#34;}}}&#39; # ìŠ¤ì¼€ì¼ ë‹¤ìš´ (ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ì‹œ) kubectl scale deployment openwebui --replicas=1 -n openwebui 3ë‹¨ê³„: ê·¼ë³¸ ì›ì¸ ë¶„ì„ # ìƒì„¸ ë¡œê·¸ ë¶„ì„ kubectl logs deployment/openwebui -n openwebui --previous kubectl describe pod -l app=openwebui -n openwebui # ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë¶„ì„ kubectl top pods -n openwebui --containers kubectl describe nodes ì¼ë°˜ì ì¸ ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ íŒŒë“œê°€ ì‹œì‘ë˜ì§€ ì•ŠëŠ” ê²½ìš° # ì›ì¸ í™•ì¸ kubectl describe pod &lt;pod-name&gt; -n openwebui # ì¼ë°˜ì ì¸ í•´ê²°ì±… # 1. ì´ë¯¸ì§€ ë¬¸ì œ kubectl get pods -n openwebui -o jsonpath=&#39;{.items[*].spec.containers[*].image}&#39; # 2. ë¦¬ì†ŒìŠ¤ ë¶€ì¡± kubectl describe nodes | grep -A 5 &#34;Allocated resources&#34; # 3. PVC ë§ˆìš´íŠ¸ ì‹¤íŒ¨ kubectl get pvc -n openwebui kubectl describe pvc &lt;pvc-name&gt; -n openwebui ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨ # PostgreSQL ìƒíƒœ í™•ì¸ kubectl get pods -l app=postgres -n openwebui kubectl logs deployment/postgres -n openwebui # ì—°ê²° í…ŒìŠ¤íŠ¸ kubectl exec deployment/postgres -n openwebui -- pg_isready # ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸ kubectl exec deployment/openwebui -n openwebui -- \ nc -zv postgres-service 5432 ë†’ì€ ì‘ë‹µ ì‹œê°„ # ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸ kubectl top pods -n openwebui # HPA ìŠ¤ì¼€ì¼ë§ ê°•ì œ ì‹¤í–‰ kubectl patch hpa openwebui-hpa -n openwebui -p \ &#39;{&#34;spec&#34;:{&#34;minReplicas&#34;:3}}&#39; # ìºì‹œ í´ë¦¬ì–´ (ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ ë°©ë²•) kubectl exec deployment/openwebui -n openwebui -- \ curl -X POST http://localhost:8080/api/v1/cache/clear ğŸ”§ ìœ ì§€ë³´ìˆ˜ ì •ê¸° ì—…ë°ì´íŠ¸ #!/bin/bash # update-system.sh echo &#34;ğŸ”„ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ì‹œì‘...&#34; # 1. EKS í´ëŸ¬ìŠ¤í„° ì—…ë°ì´íŠ¸ í™•ì¸ aws eks describe-cluster --name openwebui-eks-dev \ --query &#39;cluster.version&#39; --output text # 2. ë…¸ë“œ ê·¸ë£¹ ì—…ë°ì´íŠ¸ í™•ì¸ aws eks describe-nodegroup --cluster-name openwebui-eks-dev \ --nodegroup-name primary-nodes \ --query &#39;nodegroup.version&#39; --output text # 3. Add-on ì—…ë°ì´íŠ¸ kubectl get pods -n kube-system # 4. ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ kubectl set image deployment/openwebui openwebui=ghcr.io/openwebui:latest -n openwebui echo &#34;âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ&#34; ë³´ì•ˆ íŒ¨ì¹˜ # ë³´ì•ˆ ìŠ¤ìº” ì‹¤í–‰ trivy image ghcr.io/openwebui:latest # ì·¨ì•½ì  ìˆëŠ” ì»¨í…Œì´ë„ˆ ì¬ë°°í¬ kubectl rollout restart deployment/openwebui -n openwebui # ì‹œí¬ë¦¿ ë¡œí…Œì´ì…˜ kubectl create secret generic api-keys \ --from-literal=OPENAI_API_KEY=new-key \ --dry-run=client -o yaml | kubectl apply -f - ìš©ëŸ‰ ê´€ë¦¬ # ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ kubectl get pvc -A -o custom-columns=NAME:.metadata.name,SIZE:.spec.resources.requests.storage,USED:.status.capacity.storage # ë¡œê·¸ ì •ë¦¬ kubectl logs deployment/openwebui -n openwebui --tail=1000 &gt; /dev/null # ì´ë¯¸ì§€ ì •ë¦¬ (ë…¸ë“œì—ì„œ ì§ì ‘) docker system prune -a ğŸ“ˆ ì„±ëŠ¥ íŠœë‹ ì• í”Œë¦¬ì¼€ì´ì…˜ ìµœì í™” # OpenWebUI ì„±ëŠ¥ ì„¤ì • env: - name: WEBUI_SECRET_KEY value: &#34;optimized-secret-key&#34; - name: MAX_WORKERS value: &#34;4&#34; - name: TIMEOUT value: &#34;60&#34; - name: KEEP_ALIVE value: &#34;2&#34; ë°ì´í„°ë² ì´ìŠ¤ íŠœë‹ -- PostgreSQL ì„±ëŠ¥ íŠœë‹ -- ì—°ê²° í’€ ì„¤ì • ALTER SYSTEM SET max_connections = 100; ALTER SYSTEM SET shared_buffers = &#39;256MB&#39;; ALTER SYSTEM SET effective_cache_size = &#39;1GB&#39;; ALTER SYSTEM SET work_mem = &#39;4MB&#39;; -- ì¸ë±ìŠ¤ í™•ì¸ ë° ìµœì í™” SELECT schemaname, tablename, attname, n_distinct, correlation FROM pg_stats WHERE tablename = &#39;your_table&#39;; ë„¤íŠ¸ì›Œí¬ ìµœì í™” # Ingress ì„¤ì • ìµœì í™” annotations: nginx.ingress.kubernetes.io/proxy-connect-timeout: &#34;60&#34; nginx.ingress.kubernetes.io/proxy-send-timeout: &#34;60&#34; nginx.ingress.kubernetes.io/proxy-read-timeout: &#34;60&#34; nginx.ingress.kubernetes.io/proxy-body-size: &#34;50m&#34; nginx.ingress.kubernetes.io/enable-cors: &#34;true&#34; ğŸ’° ë¹„ìš© ìµœì í™” ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë¶„ì„ # ë…¸ë“œ ë¹„ìš© ë¶„ì„ kubectl describe nodes | grep -A 3 &#34;Allocated resources&#34; # Spot ì¸ìŠ¤í„´ìŠ¤ í™œìš©ë¥  kubectl get nodes -l node.kubernetes.io/instance-type # ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ ì •ë¦¬ kubectl get pods -A --field-selector=status.phase=Succeeded kubectl delete pods --field-selector=status.phase=Succeeded -A ìë™ ìŠ¤ì¼€ì¼ë§ ìµœì í™” # ë¹„ìš© íš¨ìœ¨ì ì¸ HPA ì„¤ì • spec: minReplicas: 1 # ìµœì†Œ ë¹„ìš© maxReplicas: 10 # íŠ¸ë˜í”½ ëŒ€ì‘ targetCPUUtilizationPercentage: 70 # ì ì ˆí•œ í™œìš©ë¥  behavior: scaleDown: stabilizationWindowSeconds: 300 # ê¸‰ê²©í•œ ìŠ¤ì¼€ì¼ ë‹¤ìš´ ë°©ì§€ policies: - type: Percent value: 50 periodSeconds: 60 ğŸ“ ë¹„ìƒ ì—°ë½ ì²´ê³„ ì¥ì•  ë“±ê¸‰ë³„ ëŒ€ì‘ P0 (Critical): - ì„œë¹„ìŠ¤ ì™„ì „ ì¤‘ë‹¨ - ì¦‰ì‹œ ëŒ€ì‘ (24/7) - ì—°ë½ì²˜: [ê¸´ê¸‰ ì—°ë½ì²˜] P1 (High): - ì£¼ìš” ê¸°ëŠ¥ ì¥ì•  - 4ì‹œê°„ ì´ë‚´ ëŒ€ì‘ - ì—°ë½ì²˜: [íŒ€ ë¦¬ë”] P2 (Medium): - ë¶€ë¶„ ê¸°ëŠ¥ ì¥ì•  - 24ì‹œê°„ ì´ë‚´ ëŒ€ì‘ - ì—°ë½ì²˜: [ë‹´ë‹¹ì] P3 (Low): - ì„±ëŠ¥ ì €í•˜ - 72ì‹œê°„ ì´ë‚´ ëŒ€ì‘ - ì—°ë½ì²˜: [íŒ€ ë©”ì¼] ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì ˆì°¨ 1ì°¨ ë‹´ë‹¹ì (30ë¶„ ì´ë‚´ ì‘ë‹µ) íŒ€ ë¦¬ë” (1ì‹œê°„ ì´ë‚´) ê¸°ìˆ  ì±…ì„ì (2ì‹œê°„ ì´ë‚´) CTO (4ì‹œê°„ ì´ë‚´) ğŸ“š ìš´ì˜ ë„êµ¬ ë° ëŒ€ì‹œë³´ë“œ í•„ìˆ˜ ë„êµ¬ # kubectl í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ kubectl krew install ctx ns stern top # ìœ ìš©í•œ ëª…ë ¹ì–´ ë³„ì¹­ alias k=&#39;kubectl&#39; alias kgp=&#39;kubectl get pods&#39; alias kgs=&#39;kubectl get svc&#39; alias kgn=&#39;kubectl get nodes&#39; alias kdp=&#39;kubectl describe pod&#39; alias kl=&#39;kubectl logs&#39; ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ Grafana: http://grafana.your-domain.com Prometheus: http://prometheus.your-domain.com Jaeger: http://jaeger.your-domain.com (íŠ¸ë ˆì´ì‹±) ArgoCD: http://argocd.your-domain.com (GitOps) ë¡œê·¸ ë¶„ì„ # ì¤‘ì•™í™”ëœ ë¡œê¹… (ELK Stack) kubectl port-forward svc/kibana 5601:5601 -n logging # ë¡œê·¸ ì¿¼ë¦¬ ì˜ˆì‹œ # Kibanaì—ì„œ: kubernetes.namespace:&#34;openwebui&#34; AND level:&#34;ERROR&#34; ğŸ”„ ì •ê¸° ì‘ì—… ìŠ¤ì¼€ì¤„ ì¼ì¼ ì‘ì—… (ìë™í™”) # CronJob ì˜ˆì‹œ apiVersion: batch/v1 kind: CronJob metadata: name: daily-cleanup spec: schedule: &#34;0 2 * * *&#34; # ë§¤ì¼ ì˜¤ì „ 2ì‹œ jobTemplate: spec: template: spec: containers: - name: cleanup image: alpine:latest command: - /bin/sh - -c - | # ë¡œê·¸ ì •ë¦¬ find /var/log -name &#34;*.log&#34; -mtime &#43;7 -delete # ì„ì‹œ íŒŒì¼ ì •ë¦¬ find /tmp -mtime &#43;1 -delete restartPolicy: OnFailure ì£¼ê°„ ì‘ì—… ë°±ì—… ê²€ì¦ í…ŒìŠ¤íŠ¸ ë³´ì•ˆ ìŠ¤ìº” ì‹¤í–‰ ì„±ëŠ¥ ë¦¬í¬íŠ¸ ì‘ì„± ë¹„ìš© ë¶„ì„ ë¦¬í¬íŠ¸ ì›”ê°„ ì‘ì—… DR(ì¬í•´ë³µêµ¬) í…ŒìŠ¤íŠ¸ ë³´ì•ˆ ê°ì‚¬ ìš©ëŸ‰ ê³„íš ê²€í†  ì•„í‚¤í…ì²˜ ë¦¬ë·° ì´ì œ ì™„ì „í•œ ìš´ì˜ ë§¤ë‰´ì–¼ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ› ï¸
...</p>
  </div>
  <footer class="entry-footer">7 min&nbsp;Â·&nbsp;1419 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/%EC%9A%B4%EC%98%81-%EB%A9%94%EB%89%B4%EC%96%BC/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ &amp; FAQ ğŸ” ë¹ ë¥¸ ë¬¸ì œ ì§„ë‹¨ 1ë‹¨ê³„: ê¸°ë³¸ ìƒíƒœ í™•ì¸ (30ì´ˆ) # í•œ ë²ˆì— ì „ì²´ ìƒíƒœ í™•ì¸ kubectl get nodes,pods -A | grep -E &#34;(NotReady|Error|CrashLoop|Pending)&#34; # ìµœê·¼ ì´ë²¤íŠ¸ í™•ì¸ kubectl get events -A --sort-by=&#39;.lastTimestamp&#39; | tail -10 2ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ ìƒíƒœ (1ë¶„) # OpenWebUI ìƒíƒœ kubectl get pods -n openwebui -o wide # LiteLLM ìƒíƒœ kubectl get pods -n litellm -o wide # ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ kubectl get pods -n openwebui -l app=postgres 3ë‹¨ê³„: ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ (30ì´ˆ) # ë…¸ë“œ ë¦¬ì†ŒìŠ¤ kubectl top nodes # íŒŒë“œ ë¦¬ì†ŒìŠ¤ kubectl top pods -A --sort-by=cpu ğŸ”§ ì¸í”„ë¼ ê´€ë ¨ ë¬¸ì œ âŒ ë…¸ë“œê°€ NotReady ìƒíƒœ ì¦ìƒ:
...</p>
  </div>
  <footer class="entry-footer">10 min&nbsp;Â·&nbsp;2035 words</footer>
  <a class="entry-link" aria-label="post link to " href="https://8dobibim.github.io/backend/%ED%8A%B8%EB%9F%AC%EB%B8%94%EC%8A%88%ED%8C%85-%EA%B0%80%EC%9D%B4%EB%93%9C--faq/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://8dobibim.github.io/">8dobibim Tech Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
